<!DOCTYPE html><style>body {
  cursor: url(https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/default.cur),
  default;
}

a,
img {
  cursor: url(https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/pointer.cur),
  default;
}

::-webkit-scrollbar-thumb {
  background-color: dodgerblue;
  background-image: -webkit-linear-gradient(
    45deg,
    rgba(255, 255, 255, .4) 25%,
    transparent 25%,
    transparent 50%, rgba(255, 255, 255, .4) 50%,
    rgba(255, 255, 255, .4) 75%,
    transparent 75%,
    transparent);
  border-radius: 3em;
}

::-webkit-scrollbar-track {
  background-color: #DEDEDE;
  border-radius: 3em;
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}</style><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/favicon-16x16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><meta name="description" content="开发和构建部署工具，包括：Maven、Linux、Docker等详细说明">
<meta property="og:type" content="article">
<meta property="og:title" content="开发、构建、部署">
<meta property="og:url" content="http://taoyyz.github.io/2021/08/05/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/index.html">
<meta property="og:site_name" content="欢迎光临taoyyz的Blog">
<meta property="og:description" content="开发和构建部署工具，包括：Maven、Linux、Docker等详细说明">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210831142805921.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210810214007199.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210810215303581.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210810220335309.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210810231244337.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210810232814775.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210810232956154.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210810233129562.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210810233451734.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210810235628712.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210810235849030.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210810235953017.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210811000431096.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210811011751584.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210811012022982.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210811012432823.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210811012929374.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210901010702519.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210902232007642.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210903000422508.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210811201646925.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210811205523078.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210811232306155.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210811235630532.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210812003923200.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925152744642.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925152950772.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925153350716.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925154120533.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925154814518.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925155029677.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925155316704.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925155421943.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925155643573.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925155741092.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925163641758.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925163901563.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925172741128.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925172858950.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925173026244.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925183121919.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925222930569.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925224318458.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925225033757.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925225825090.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925230547503.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925232700504.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925233238823.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925233205970.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925233633952.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925233706310.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925233812608.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925234939623.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210925235114407.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210926000524650.png">
<meta property="og:image" content="http://taoyyz.github.io/2021/08/05/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/images/image-20211122014300152.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210926002503970.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210926005342122.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210926005407454.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210926005710948.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210926011218197.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210926011547599.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210926011929772.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210926012924275.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210926014150151.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210926125314530.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210929005648444.png">
<meta property="og:image" content="http://taoyyz.github.io/images/image-20210929005733712.png">
<meta property="og:image" content="http://taoyyz.github.io/2021/08/05/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/images/image-20211210234316472.png">
<meta property="article:published_time" content="2021-08-05T10:02:17.000Z">
<meta property="article:modified_time" content="2023-09-28T16:57:21.279Z">
<meta property="article:author" content="taoyyz小陶">
<meta property="article:tag" content="运维">
<meta property="article:tag" content="服务器">
<meta property="article:tag" content="构建工具">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://taoyyz.github.io/images/image-20210831142805921.png"><title>开发、构建、部署 | 欢迎光临taoyyz的Blog</title><link ref="canonical" href="http://taoyyz.github.io/2021/08/05/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":true},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"carbon","highlight":"light","wordWrap":true},
  reward: true,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: true,
  pjax: {"avoidBanner":false},
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"></head><body><canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas><script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script><script type="text/javascript" src="/js/firework.js"></script><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/links/"><span class="header-nav-menu-item__icon"><i class="fas fa-link"></i></span><span class="header-nav-menu-item__text">资源和链接</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/about/"><span class="header-nav-menu-item__icon"><i class="far fa-address-card"></i></span><span class="header-nav-menu-item__text">关于</span></a></div></div><div class="header-nav-search"><span class="header-nav-search__icon"><i class="fas fa-search"></i></span><span class="header-nav-search__text">搜索</span></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">欢迎光临taoyyz的Blog</div><div class="header-banner-info__subtitle"></div></div><div class="header-banner-arrow"><div class="header-banner-arrow__icon"><i class="fas fa-angle-down"></i></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">开发、构建、部署</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-08-05</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-09-29</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">12.9k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">85分</span></span></div></header><div class="post-body">
        <h1 id="Maven">
          <a href="#Maven" class="heading-link"><i class="fas fa-link"></i></a><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h1>
      
        <h2 id="概念">
          <a href="#概念" class="heading-link"><i class="fas fa-link"></i></a><a href="#概念" class="headerlink" title="概念"></a>概念</h2>
      <ul>
<li><p>Maven 翻译为”专家”、”内行”，是 Apache 下的一个纯 Java 开发的开源项目。基于项目对象模型（缩写：POM）概念，Maven利用一个中央信息片断能管理一个项目的构建、报告和文档等步骤。</p>
</li>
<li><p>Maven 是一个<strong>项目管理工具</strong>，可以对 Java 项目进行构建、依赖管理。</p>
</li>
<li><p>Maven 也可被用于构建和管理各种项目，例如 C#，Ruby，Scala 和其他语言编写的项目。</p>

        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210831142805921.png" alt="image-20210831142805921" style="zoom:67%;">
      </li>
</ul>

        <h2 id="作用">
          <a href="#作用" class="heading-link"><i class="fas fa-link"></i></a><a href="#作用" class="headerlink" title="作用"></a>作用</h2>
      <ol>
<li>依赖管理：jar包放置在maven仓库中</li>
<li>一键构建：体现在Maven的生命周期，每一个构建项目的命令都对应了底层的一个Maven插件</li>
<li>热编译、热部署</li>
</ol>

        <h2 id="下载和安装">
          <a href="#下载和安装" class="heading-link"><i class="fas fa-link"></i></a><a href="#下载和安装" class="headerlink" title="下载和安装"></a>下载和安装</h2>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210810214007199.png" alt="image-20210810214007199">
       </p>

        <h3 id="下载Maven：">
          <a href="#下载Maven：" class="heading-link"><i class="fas fa-link"></i></a><a href="#下载Maven：" class="headerlink" title="下载Maven："></a>下载Maven：</h3>
      <ul>
<li>访问：<code>http://maven.apache.org/download.cgi</code></li>
<li>下载对应版本：
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210810215303581.png" alt="image-20210810215303581">
      </li>
</ul>

        <h3 id="安装Maven：">
          <a href="#安装Maven：" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装Maven：" class="headerlink" title="安装Maven："></a>安装Maven：</h3>
      <ul>
<li>解压下载好的Maven安装包</li>
<li>添加一个系统环境变量<code>Path</code>为Maven目录的<code>bin</code>目录，即配置一个<code>MAVEN_HOME</code>并作为<code>Path</code></li>
<li>利用<code>mvn -v</code>测试版本信息</li>
</ul>
<p><strong>注意：Maven依赖JAVA_HOME，需要先确保电脑正确配置了JAVA_HOME</strong></p>

        <h2 id="Maven仓库">
          <a href="#Maven仓库" class="heading-link"><i class="fas fa-link"></i></a><a href="#Maven仓库" class="headerlink" title="Maven仓库"></a>Maven仓库</h2>
      
        <h3 id="分类：">
          <a href="#分类：" class="heading-link"><i class="fas fa-link"></i></a><a href="#分类：" class="headerlink" title="分类："></a>分类：</h3>
      <ol>
<li><p><strong>本地（Local）</strong></p>
<ul>
<li><p>Maven 的本地仓库，在安装 Maven 后并不会创建，它是在第一次执行 maven 命令的时候才被创建。</p>
<p><strong>默认的本地Maven仓库在<code>$&#123;user.home&#125;/.m2/repository</code>里</strong></p>
</li>
<li><p>运行 Maven 的时候，Maven 所需要的任何构件都是直接从本地仓库获取的。如果本地仓库没有，它会首先尝试从远程仓库下载构件至本地仓库，然后再使用本地仓库的构件。</p>
</li>
<li><p>自定义本地仓库位置：修改Maven安装目录下的<code>conf</code>文件夹内的<code>settings.xml</code>文件：</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210810220335309.png" alt="image-20210810220335309">
      </p>
</li>
</ul>
</li>
<li><p><strong>中央（Central）</strong></p>
<ul>
<li>Maven 中央仓库是由 Maven 社区提供的仓库，其中包含了大量常用的库。</li>
<li>中央仓库包含了绝大多数流行的开源Java构件，以及源码、作者信息、SCM、信息、许可证信息等。一般来说，简单的Java项目依赖的构件都可以在这里下载到。</li>
<li>中央仓库的关键概念：<ul>
<li>这个仓库由 Maven 社区管理。</li>
<li>不需要配置。</li>
<li>需要通过网络访问</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>远程（Remote）</strong></p>
<ul>
<li>如果 Maven 在中央仓库中也找不到依赖的文件，它会停止构建过程并输出错误信息到控制台。为避免这种情况，Maven 提供了远程仓库的概念，它是开发人员自己定制仓库，包含了所需要的代码库或者其他工程中用到的 jar 文件。</li>
<li>在中央仓库获取不到的<code>pom.xml</code>中声明的依赖文件会在远程仓库中下载。</li>
</ul>
</li>
</ol>

        <h3 id="Maven依赖搜索顺序">
          <a href="#Maven依赖搜索顺序" class="heading-link"><i class="fas fa-link"></i></a><a href="#Maven依赖搜索顺序" class="headerlink" title="Maven依赖搜索顺序"></a>Maven依赖搜索顺序</h3>
      <ul>
<li><strong>步骤 1</strong> － 在本地仓库中搜索，如果找不到，执行步骤 2，如果找到了则执行其他操作。</li>
<li><strong>步骤 2</strong> － 在中央仓库中搜索，如果找不到，并且有一个或多个远程仓库已经设置，则执行步骤 4，如果找到了则下载到本地仓库中以备将来引用。</li>
<li><strong>步骤 3</strong> － 如果远程仓库没有被设置，Maven 将简单的停滞处理并抛出错误（无法找到依赖的文件）。</li>
<li><strong>步骤 4</strong> － 在一个或多个远程仓库中搜索依赖的文件，如果找到则下载到本地仓库以备将来引用，否则 Maven 将停止处理并抛出错误（无法找到依赖的文件）。</li>
</ul>

        <h2 id="Maven坐标">
          <a href="#Maven坐标" class="heading-link"><i class="fas fa-link"></i></a><a href="#Maven坐标" class="headerlink" title="Maven坐标"></a>Maven坐标</h2>
      
        <h3 id="概念-1">
          <a href="#概念-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#概念-1" class="headerlink" title="概念"></a>概念</h3>
      <ul>
<li><strong>坐标</strong>用于描述仓库中资源的位置</li>
</ul>

        <h3 id="主要组成">
          <a href="#主要组成" class="heading-link"><i class="fas fa-link"></i></a><a href="#主要组成" class="headerlink" title="主要组成"></a>主要组成</h3>
      <ul>
<li>groupId：定义当前Maven项目隶属的组织名称（通常是域名反写）</li>
<li>artifactId：定义当前Maven项目名称（通常是模块名称）</li>
<li>version：定义当前项目的版本号</li>
<li>packaging：定义该项目的打包方式</li>
</ul>

        <h2 id="Maven项目标准目录结构">
          <a href="#Maven项目标准目录结构" class="heading-link"><i class="fas fa-link"></i></a><a href="#Maven项目标准目录结构" class="headerlink" title="Maven项目标准目录结构"></a>Maven项目标准目录结构</h2>
      <ul>
<li><p><code>src/main/java</code>：核心Java代码部分</p>
</li>
<li><p><code>src/main/resources</code>：配置文件部分</p>
</li>
<li><p><code>src/test/java</code>：测试代码部分</p>
</li>
<li><p><code>src/test/resources</code>：测试配置文件部分</p>
</li>
<li><p><code>src/main/webapp</code>：页面资源，包括js、css、图片等等，Web项目包含此目录</p>
</li>
</ul>

        <h2 id="Maven常用命令">
          <a href="#Maven常用命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#Maven常用命令" class="headerlink" title="Maven常用命令"></a>Maven常用命令</h2>
      <ul>
<li><code>mvn clean</code>：清除target目录</li>
<li><code>mvn compile</code>：编译<code>src/main/java</code>下的源代码生成到target目录</li>
<li><code>mvn test</code>：编译<code>src/test/java</code>与<code>src/main/java</code>下的源代码生成到target目录（会执行<code>compile</code>）</li>
<li><code>mvn package</code>：打包项目到target目录（会执行<code>compile</code>和<code>test</code>）<ul>
<li>打包的类型由pom.xml内的<code>&lt;project&gt;</code>标签内的<code>&lt;packaging&gt;</code>标签指定（默认为<code>jar</code>）</li>
</ul>
</li>
<li><code>mvn install</code>：将项目打包并放到本地仓库中（会执行<code>compile</code>和<code>test</code>和<code>package</code>）</li>
<li><code>mvn deploy</code>：将项目发布到远程仓库（会执行<code>compile</code>和<code>test</code>和<code>package</code>和<code>install</code>）</li>
</ul>

        <h2 id="Maven生命周期">
          <a href="#Maven生命周期" class="heading-link"><i class="fas fa-link"></i></a><a href="#Maven生命周期" class="headerlink" title="Maven生命周期"></a>Maven生命周期</h2>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210810231244337.png" alt="image-20210810231244337">
      </p>

        <h2 id="Maven概念模型">
          <a href="#Maven概念模型" class="heading-link"><i class="fas fa-link"></i></a><a href="#Maven概念模型" class="headerlink" title="Maven概念模型"></a>Maven概念模型</h2>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210810232814775.png" alt="image-20210810232814775">
      </p>

        <h2 id="IDEA集成Maven">
          <a href="#IDEA集成Maven" class="heading-link"><i class="fas fa-link"></i></a><a href="#IDEA集成Maven" class="headerlink" title="IDEA集成Maven"></a>IDEA集成Maven</h2>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210810232956154.png" alt="image-20210810232956154">
      </p>

        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210810233129562.png" alt="image-20210810233129562">
      

<p><strong>这种方式修改的Maven配置只对当前项目生效，要更改所有新项目配置，在IDEA左上角的<code>File</code>选择新项目设置</strong></p>

        <h3 id="使用骨架（archetype）创建Maven的Java项目">
          <a href="#使用骨架（archetype）创建Maven的Java项目" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用骨架（archetype）创建Maven的Java项目" class="headerlink" title="使用骨架（archetype）创建Maven的Java项目"></a>使用骨架（archetype）创建Maven的Java项目</h3>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210810233451734.png" alt="image-20210810233451734">
      </p>
<p><strong>这种方式创建的Maven目录结构缺少<code>src/main</code>下的<code>resources</code>目录</strong></p>

        <h3 id="不使用骨架（archetype）创建Maven的Java项目">
          <a href="#不使用骨架（archetype）创建Maven的Java项目" class="heading-link"><i class="fas fa-link"></i></a><a href="#不使用骨架（archetype）创建Maven的Java项目" class="headerlink" title="不使用骨架（archetype）创建Maven的Java项目"></a>不使用骨架（archetype）创建Maven的Java项目</h3>
      <p>创建之后的目录结构：
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210810235628712.png" alt="image-20210810235628712">
      </p>

        <h3 id="创建Maven的Web项目">
          <a href="#创建Maven的Web项目" class="heading-link"><i class="fas fa-link"></i></a><a href="#创建Maven的Web项目" class="headerlink" title="创建Maven的Web项目"></a>创建Maven的Web项目</h3>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210810235849030.png" alt="image-20210810235849030">
      </p>
<p>创建之后的目录结构：
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210810235953017.png" alt="image-20210810235953017">
      </p>

        <h3 id="手动指定Maven的Web项目的资源包">
          <a href="#手动指定Maven的Web项目的资源包" class="heading-link"><i class="fas fa-link"></i></a><a href="#手动指定Maven的Web项目的资源包" class="headerlink" title="手动指定Maven的Web项目的资源包"></a>手动指定Maven的Web项目的资源包</h3>
      <p>如果想在<code>src/main/java</code>下也能放置web资源文件，需要添加此目录为模块的<strong>Web资源目录</strong>：</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210811000431096.png" alt="image-20210811000431096">
      </p>

        <h3 id="在pom-xml中指定依赖">
          <a href="#在pom-xml中指定依赖" class="heading-link"><i class="fas fa-link"></i></a><a href="#在pom-xml中指定依赖" class="headerlink" title="在pom.xml中指定依赖"></a>在pom.xml中指定依赖</h3>
      <ul>
<li><p>每一个<code>&lt;dependency&gt;</code>标签的依赖都写在<code>&lt;dependencies&gt;</code>标签里</p>
</li>
<li><p>每一个<code>&lt;dependency&gt;</code>依赖至少包含3个部分：</p>
<ul>
<li><code>groupId</code>：库来源的公司名称</li>
<li><code>artifactId</code>：库来源的项目名称</li>
<li><code>version</code>：版本号</li>
</ul>
<p>选填的：</p>
<ul>
<li><code>scope</code>：作用域</li>
</ul>
</li>
</ul>
<p>例如，引入Servlet的依赖：</p>
<p> 
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210811011751584.png" alt="image-20210811011751584">
      </p>

        <h3 id="在pom-xml中指定插件">
          <a href="#在pom-xml中指定插件" class="heading-link"><i class="fas fa-link"></i></a><a href="#在pom-xml中指定插件" class="headerlink" title="在pom.xml中指定插件"></a>在pom.xml中指定插件</h3>
      <ul>
<li>每一个<code>&lt;plugin&gt;</code>标签的插件都写在<code>&lt;plugins&gt;</code>标签里，而<code>&lt;plugins&gt;</code>在<code>&lt;build&gt;</code>标签里</li>
<li><code>&lt;pluginManagement&gt;</code>标签的<code>&lt;plugins&gt;</code>内的插件只是声明，Maven不会加载</li>
</ul>
<p>例如，引入tomcat7的插件：</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210811012022982.png" alt="image-20210811012022982">
       </p>
<p>或者，指定maven的compiler编译器插件：</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210811012432823.png" alt="image-20210811012432823">
       </p>

        <h3 id="可能遇到的问题：">
          <a href="#可能遇到的问题：" class="heading-link"><i class="fas fa-link"></i></a><a href="#可能遇到的问题：" class="headerlink" title="可能遇到的问题："></a>可能遇到的问题：</h3>
      
        <h4 id="1-IDEA无法创建Servlet，没有Servlet提示">
          <a href="#1-IDEA无法创建Servlet，没有Servlet提示" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-IDEA无法创建Servlet，没有Servlet提示" class="headerlink" title="1.IDEA无法创建Servlet，没有Servlet提示"></a>1.IDEA无法创建Servlet，没有Servlet提示</h4>
      <ul>
<li>原因：没有导入javax.servlet的包</li>
<li>解决方法：在<code>pom.xml</code>里导入以下依赖后重新加载Maven</li>
</ul>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--provided只保证写代码时的jar包依赖，解决了部署到tomcat造成的冲突--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--provided只保证写代码时的jar包依赖，解决了部署到tomcat造成的冲突--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="2-无法使用Maven自带的Tomcat启动项目（mvn-tomcat-run命令无法使用）">
          <a href="#2-无法使用Maven自带的Tomcat启动项目（mvn-tomcat-run命令无法使用）" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-无法使用Maven自带的Tomcat启动项目（mvn-tomcat-run命令无法使用）" class="headerlink" title="2.无法使用Maven自带的Tomcat启动项目（mvn tomcat:run命令无法使用）"></a>2.无法使用Maven自带的Tomcat启动项目（mvn tomcat:run命令无法使用）</h4>
      <ul>
<li>原因：Maven本地仓库没有Tomcat的插件</li>
<li>解决方法：在<code>pom.xml</code>里导入Tomcat插件后重新加载Maven</li>
</ul>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">port</span>&gt;</span>80<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span>&gt;</span>/mvn<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">uriEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">uriEncoding</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>mvn<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">server</span>&gt;</span>tomcat7<span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<ul>
<li>补充：IDEA右侧的Maven侧边工具栏中，还是无法显示tomcat插件，需要去掉pom.xml的<code>pluginManagement</code>标签重新加载Maven即可</li>
</ul>

        <h4 id="3-Servlet依赖冲突">
          <a href="#3-Servlet依赖冲突" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-Servlet依赖冲突" class="headerlink" title="3.Servlet依赖冲突"></a>3.Servlet依赖冲突</h4>
      <ul>
<li><p>原因：<code>pom.xml</code>中导入了Servlet的依赖jar包，在运行时Tomcat也自带有依赖jar包导致冲突</p>
</li>
<li><p>解决方法：为pom.xml的Servlet依赖指定<code>scope</code>标签：<code>&lt;scope&gt;provided&lt;/scope&gt;</code>只保留在写代码阶段</p>
<p><strong>具体解释来源于<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://blog.csdn.net/u012501054/article/details/80360906">CSDN</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>:</strong></p>
<ul>
<li><p>对于scope=compile的情况（默认scope),也就是说这个项目在编译，测试，运行阶段都需要这个artifact对应的jar包在classpath中。</p>
</li>
<li><p>而对于scope=provided的情况，则可以认为这个provided是目标容器已经provide这个artifact。换句话说，它只影响到编译，测试阶段。在编译测试阶段，我们需要这个artifact对应的jar包在classpath中，而在运行阶段，假定目标的容器（比如我们这里的liferay容器）已经提供了这个jar包，所以无需我们这个artifact对应的jar包了。</p>
</li>
</ul>

        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210811012929374.png" alt="image-20210811012929374" style="zoom: 67%;">
      </li>
</ul>

        <h4 id="4-IDEA控制台乱码">
          <a href="#4-IDEA控制台乱码" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-IDEA控制台乱码" class="headerlink" title="4.IDEA控制台乱码"></a>4.IDEA控制台乱码</h4>
      <ul>
<li>原因：Maven的tomcat编码问题</li>
<li>解决方法：修改IDEA的Maven设置：修改Runner项设置<code>VM Options</code>：<code>-Dfile.encoding=gb2312</code></li>
</ul>

        <h2 id="Maven高级">
          <a href="#Maven高级" class="heading-link"><i class="fas fa-link"></i></a><a href="#Maven高级" class="headerlink" title="Maven高级"></a>Maven高级</h2>
      
        <h3 id="分模块开发与设计">
          <a href="#分模块开发与设计" class="heading-link"><i class="fas fa-link"></i></a><a href="#分模块开发与设计" class="headerlink" title="分模块开发与设计"></a>分模块开发与设计</h3>
      <ul>
<li><strong>ssm_pojo</strong>拆分：<ul>
<li>新建模块</li>
<li>复制原始项目中的pojo层内容到ssm_pojo模块中<ul>
<li>复制实体类到对应的实体包</li>
<li>不需要配置文件到resources目录</li>
</ul>
</li>
</ul>
</li>
<li><strong>ssm_dao</strong>拆分<ul>
<li>新建模块</li>
<li>复制原始项目中的dao层对应内容到ssm_dao模块中<ul>
<li>数据dao层的接口</li>
<li>配置文件：保留与dao层相关的内容，例如分页插件等</li>
</ul>
</li>
<li>pom.xml中引入坐标，删除springMVC坐标<ul>
<li>spring</li>
<li>mybatis</li>
<li>spring整合mybatis</li>
<li>mysql</li>
<li>druid</li>
<li>pagehelper</li>
<li>pojo层的模块依赖（需要先把pojo层的maven模块执行<code>install</code>安装到仓库作为依赖）、</li>
</ul>
</li>
</ul>
</li>
<li><strong>ssm_service</strong>拆分<ul>
<li>新建模块</li>
<li>复制原始项目中的service层对应内容到ssm_service模块中<ul>
<li>业务层接口与实现类（service包以及service层的impl实现包）</li>
<li>配置文件：保留与service层相关的配置文件</li>
<li>pom.xml中保留与service相关坐标即可，删除springMVC坐标<ul>
<li>spring</li>
<li>junit</li>
<li>spring整合junit</li>
<li>直接依赖ssm_dao模块</li>
<li>间接依赖ssm_pojo模块（由于依赖传递，已经被ssm_dao模块依赖）</li>
</ul>
</li>
<li>修改service模块spring核心配置文件名为applicationContext-service.xml</li>
<li>修改dao模块spring核心配置文件名为applicationContext-dao.xml</li>
<li>修改单元测试<code>@ContextConfiguration</code>注解引入的配置文件名称，由单个文件修改为多个文件</li>
</ul>
</li>
</ul>
</li>
<li><strong>ssm_controller</strong>拆分<ul>
<li>新建模块</li>
<li>复制原始项目中的controller层对应内容到ssm_controller模块中<ul>
<li>表现层控制器类与相关设置类（Controller与异常类）</li>
<li>配置文件：保留与表现层springMVC相关配置文件、服务器相关配置文件</li>
<li>pom.xml引入表现层相关坐标即可，删除springMVC相关坐标<ul>
<li>spring</li>
<li>springMVC</li>
<li>jackson</li>
<li>servlet</li>
<li>tomcat服务器插件</li>
<li>直接依赖ssm_service</li>
<li>间接依赖ssm_dao、ssm_pojo</li>
</ul>
</li>
<li>修改web.xml配置文件中加载spring核心配置文件的名称，使用<code>applicationContext-*.xml</code>通配</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>分模块开发总结：</strong></p>
<ul>
<li>模块中仅包含档期啊你模块对应的功能类与配置文件</li>
<li>spring核心配置根据模块的功能独立制作，分别命名区分</li>
<li>当前模块所依赖的模块可以通过导入坐标的形式导入依赖，并且需要位于maven仓库（先<code>install</code>安装）</li>
<li>web.xml需要加载所有的spring核心配置文件（通过通配符加载多个核心配置文件）</li>
</ul>

        <h3 id="聚合">
          <a href="#聚合" class="heading-link"><i class="fas fa-link"></i></a><a href="#聚合" class="headerlink" title="聚合"></a>聚合</h3>
      <p>作用：用于快速构建Maven工程，一次性构建多个项目/模块</p>
<p>制作方式：</p>
<ul>
<li><p>创建一个空模块，pom.xml中指定打包类型<code>packaging</code>为<code>pom</code></p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--定义此模块用于构建管理--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>定义当前模块进行构建操作时关联的其他模块名称</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--管理的工程列表--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--具体的模块名称--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>01module1<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>02module2<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>03module3<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
</ul>

        <h3 id="继承">
          <a href="#继承" class="heading-link"><i class="fas fa-link"></i></a><a href="#继承" class="headerlink" title="继承"></a>继承</h3>
      <p>作用：通过继承可以实现在子工程中沿用父工程中的配置</p>
<p>制作方式：</p>
<ul>
<li><p>在子工程中声明其父工程坐标与对应的位置</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>SpringDemo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.taoyyz<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>在父工程中定义依赖管理</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--声明此处进行依赖管理--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--具体的一些依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--具体依赖项--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.38<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>在子工程中定义依赖关系，无需声明依赖版本，版本会参照父工程中的依赖版本</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
</ul>

        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210901010702519.png" alt="image-20210901010702519" style="zoom:67%;">
      


        <h3 id="属性">
          <a href="#属性" class="heading-link"><i class="fas fa-link"></i></a><a href="#属性" class="headerlink" title="属性"></a>属性</h3>
      
        <h4 id="自定义属性">
          <a href="#自定义属性" class="heading-link"><i class="fas fa-link"></i></a><a href="#自定义属性" class="headerlink" title="自定义属性"></a>自定义属性</h4>
      <ul>
<li><p>自定义属性：</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--定义自定义属性--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.0.5.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>使用此自定义属性：<code>$&#123;属性名&#125;</code></p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
</ul>

        <h4 id="内置属性：">
          <a href="#内置属性：" class="heading-link"><i class="fas fa-link"></i></a><a href="#内置属性：" class="headerlink" title="内置属性："></a>内置属性：</h4>
      <ul>
<li><p>可以利用<code>$&#123;内置属性名&#125;</code>直接使用pom.xml中内置属性的内容</p>
<p>例如：</p>
<ul>
<li><code>$&#123;project.version&#125;</code>简写为<code>$&#123;version&#125;</code></li>
<li><code>$&#123;project.basedir&#125;</code>简写为<code>$&#123;basedir&#125;</code></li>
</ul>
</li>
</ul>

        <h4 id="Setting属性">
          <a href="#Setting属性" class="heading-link"><i class="fas fa-link"></i></a><a href="#Setting属性" class="headerlink" title="Setting属性"></a>Setting属性</h4>
      <ul>
<li><p>利用<code>$&#123;settings.属性名&#125;</code>使用settings.xml配置文件中的属性</p>
<p>例如：</p>
<ul>
<li><code>$&#123;settings.localRepository&#125;</code></li>
<li><code>$&#123;settings.interactiveMode&#125;</code></li>
</ul>
</li>
</ul>

        <h4 id="Java系统属性">
          <a href="#Java系统属性" class="heading-link"><i class="fas fa-link"></i></a><a href="#Java系统属性" class="headerlink" title="Java系统属性"></a>Java系统属性</h4>
      <ul>
<li><p>利用<code>$&#123;user.属性名&#125;</code>使用Java系统属性</p>
<p>例如：</p>
<ul>
<li><code>$&#123;user.home&#125;</code></li>
<li><code>$&#123;user.dir&#125;</code></li>
</ul>
</li>
<li><p>系统属性查询方式：<code>mvn help:system</code></p>
</li>
</ul>

        <h4 id="环境变量属性">
          <a href="#环境变量属性" class="heading-link"><i class="fas fa-link"></i></a><a href="#环境变量属性" class="headerlink" title="环境变量属性"></a>环境变量属性</h4>
      <ul>
<li><p>利用<code>$&#123;env.环境变量属性名&#125;</code>获取环境变量属性</p>
<p>例如：</p>
<ul>
<li><code>$&#123;env.JAVA_HOME&#125;</code></li>
<li><code>$&#123;env.MAVEN_HOME&#125;</code></li>
</ul>
</li>
<li><p>环境变量查询方式：<code>mvn help:system</code></p>
</li>
</ul>

        <h3 id="版本管理">
          <a href="#版本管理" class="heading-link"><i class="fas fa-link"></i></a><a href="#版本管理" class="headerlink" title="版本管理"></a>版本管理</h3>
      
        <h4 id="分类：-1">
          <a href="#分类：-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#分类：-1" class="headerlink" title="分类："></a>分类：</h4>
      <ul>
<li>SNAPSHOT（快照版本）</li>
<li>RELEASE（发布版本）</li>
</ul>

        <h4 id="工程版本号约定">
          <a href="#工程版本号约定" class="heading-link"><i class="fas fa-link"></i></a><a href="#工程版本号约定" class="headerlink" title="工程版本号约定"></a>工程版本号约定</h4>
      <ul>
<li>约定规范：<ul>
<li>&lt;主版本&gt;.&lt;次版本&gt;.&lt;增量版本&gt;.&lt;里程碑版本&gt;</li>
<li>主版本：表示项目重大架构变更</li>
<li>次版本：表示有较大的功能增加和变化，或者全面系统地修复漏洞</li>
<li>增量版本：表示有重大漏洞的修复</li>
<li>里程碑版本：表名一个版本的里程碑（内部版本），这样的版本同下一个正式版本相比有待测试</li>
</ul>
</li>
<li>范例：<code>5.1.9.RELEASE</code></li>
</ul>

        <h3 id="资源配置">
          <a href="#资源配置" class="heading-link"><i class="fas fa-link"></i></a><a href="#资源配置" class="headerlink" title="资源配置"></a>资源配置</h3>
      <p>配置文件可以引用pom.xml中定义的<strong>属性</strong></p>
<ul>
<li><p>作用：在任意配置文件中加载pom文件中的属性</p>
</li>
<li><p>调用格式：<code>$&#123;属性名&#125;</code></p>
</li>
<li><p>开启配置文件加载pom属性：</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置资源文件的信息，从Maven的属性加载值--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--配置资源文件的信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;basedir&#125;/18_SSM_integration/src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--配置测试目录的资源文件的信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testResources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">testResource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;basedir&#125;/18_SSM_integration/src/test/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">testResource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">testResources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
</ul>

        <h3 id="多环境开发配置">
          <a href="#多环境开发配置" class="heading-link"><i class="fas fa-link"></i></a><a href="#多环境开发配置" class="headerlink" title="多环境开发配置"></a>多环境开发配置</h3>
      <ul>
<li><p>定义多个环境</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--创建多环境--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--生产环境--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--定义此环境的唯一名称--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>produce_env<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--定义此环境中专用的属性值--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">jdbc.url</span>&gt;</span>jdbc:mysql:///db1<span class="tag">&lt;/<span class="name">jdbc.url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--开发环境--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--定义此环境的唯一名称--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>development_env<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--定义此环境中专用的属性值--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">jdbc.url</span>&gt;</span>jdbc:mysql:///db3<span class="tag">&lt;/<span class="name">jdbc.url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--设置为默认启动此环境--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>使用某个环境：</p>
<ul>
<li>利用<code>activation</code>标签指定默认环境</li>
<li>mvn命令指定加载某环境：<code>mvn 指令 -P 环境id</code>，例如<code>mvn install -P produce_env</code></li>
</ul>
</li>
</ul>

        <h3 id="跳过测试">
          <a href="#跳过测试" class="heading-link"><i class="fas fa-link"></i></a><a href="#跳过测试" class="headerlink" title="跳过测试"></a>跳过测试</h3>
      <ul>
<li><p>应用场景：</p>
<ul>
<li>整体模块功能未开发</li>
<li>模块中某个功能未开发完毕</li>
<li>单个功能更新调试导致其他功能失败</li>
<li>快速打包</li>
</ul>
</li>
<li><p><strong>跳过测试</strong></p>
<ul>
<li><p>方式1： 
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210902232007642.png" alt="image-20210902232007642">
      </p>
</li>
<li><p>方式2：执行命令：<code>mvn install -D skipTests</code></p>
</li>
<li><p>方式3：修改pom.xml中的插件，跳过测试</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.22.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--跳过全部测试--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">skipTests</span>&gt;</span>true<span class="tag">&lt;/<span class="name">skipTests</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>指定或跳过测试类：</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.22.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--指定测试内容--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/MultiTest.java<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--指定排除内容--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>**/MyBatisTest.java<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
</ul>
</li>
</ul>

        <h3 id="私服">
          <a href="#私服" class="heading-link"><i class="fas fa-link"></i></a><a href="#私服" class="headerlink" title="私服"></a>私服</h3>
      <ul>
<li><p><strong>Nexus</strong></p>
<ul>
<li>下载安装</li>
<li>启动：<code>nexus.exe /run nexus</code></li>
<li>访问服务器：<code>http://localhost:8081</code></li>
<li>修改配置：<ul>
<li>基础配置：修改etc目录下的<code>nexus-default.properties</code></li>
<li>运行配置：修改bin目录下的<code>nexus.vmoptions</code></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>仓库分类</strong></p>
<ul>
<li>宿主仓库hosted<ul>
<li>保存无法从中央仓库获取的资源<ul>
<li>自主研发</li>
<li>第三方非开源项目</li>
</ul>
</li>
</ul>
</li>
<li>代理仓库proxy<ul>
<li>代理远程仓库，通过nexus访问其他公共仓库，例如中央仓库</li>
</ul>
</li>
<li>仓库组group<ul>
<li>将若干个仓库组成一个群组，简化配置</li>
<li>仓库组不能保存资源，属于设计型仓库</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>资源上传</strong></p>
<ul>
<li>把宿主仓库加入到<code>maven-public</code>群组</li>
<li>保存的位置（宿主仓库）</li>
<li>资源文件</li>
<li>对应坐标</li>
</ul>
</li>
<li><p><strong>IDEA中资源的上传和下载</strong></p>

        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210903000422508.png" alt="image-20210903000422508" style="zoom: 50%;">
      

<ul>
<li><p> 配置本地Maven仓库访问私服的权限：settings.xml</p>
</li>
<li><p>配置<code>servers</code>标签中的多个<code>server</code></p>
<ul>
<li>配置此<code>server</code>的<code>id</code>为nexus仓库的id</li>
<li>配置此<code>server</code>的<code>username</code></li>
<li>配置此<code>server</code>的<code>password</code></li>
</ul>
</li>
<li><p>配置本地仓库的资源来源</p>
<ul>
<li>配置<code>mirrors</code>标签中的<code>mirror</code><ul>
<li>配置此<code>mirror</code>的<code>id</code></li>
<li>配置此<code>mirror</code>的<code>mirrorOf</code>为*</li>
<li>配置此<code>mirror</code>的<code>url</code>为nexus仓库的<code>url</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>发布资源到私服</strong></p>
<ul>
<li><p>在pom.xml中配置发布管理</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--对应server的id--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>repo_tjj<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>地址url<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--对应server的id--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>repo_snap<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>snap的地址url<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>发布到私服：<code>mvn deploy</code></p>
</li>
</ul>
</li>
</ul>

        <h1 id="Linux">
          <a href="#Linux" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1>
      
        <h2 id="概念-2">
          <a href="#概念-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#概念-2" class="headerlink" title="概念"></a>概念</h2>
      <ul>
<li><strong>Unix</strong>：Unix是一个强大的多用户、多任务的操作系统。于1969年在贝尔实验室开发。Unix的商标权由国际开放标准组织（The Open Group）所拥有。Unix是商业版，需要收费。</li>
<li><strong>Linux</strong>：Linux是基于Unix的，是一种自由和开放源码的操作系统，存在许多的发行版本使用Linux内核。</li>
</ul>

        <h2 id="版本">
          <a href="#版本" class="heading-link"><i class="fas fa-link"></i></a><a href="#版本" class="headerlink" title="版本"></a>版本</h2>
      <ul>
<li>内核版本</li>
<li>发行版本</li>
</ul>

        <h2 id="主流版本">
          <a href="#主流版本" class="heading-link"><i class="fas fa-link"></i></a><a href="#主流版本" class="headerlink" title="主流版本"></a>主流版本</h2>
      
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210811201646925.png" alt="image-20210811201646925" style="zoom:67%;">
       


        <h2 id="安装Linux">
          <a href="#安装Linux" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装Linux" class="headerlink" title="安装Linux"></a>安装Linux</h2>
      
        <h3 id="安装到虚拟机">
          <a href="#安装到虚拟机" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装到虚拟机" class="headerlink" title="安装到虚拟机"></a>安装到虚拟机</h3>
      
        <h4 id="虚拟机的概念">
          <a href="#虚拟机的概念" class="heading-link"><i class="fas fa-link"></i></a><a href="#虚拟机的概念" class="headerlink" title="虚拟机的概念"></a>虚拟机的概念</h4>
      <ul>
<li>软件模拟的虚拟电脑</li>
</ul>

        <h4 id="常用的虚拟机">
          <a href="#常用的虚拟机" class="heading-link"><i class="fas fa-link"></i></a><a href="#常用的虚拟机" class="headerlink" title="常用的虚拟机"></a>常用的虚拟机</h4>
      <ul>
<li><strong>VMware</strong></li>
<li><strong>VirtualBox</strong></li>
</ul>

        <h4 id="VMware安装CentOS">
          <a href="#VMware安装CentOS" class="heading-link"><i class="fas fa-link"></i></a><a href="#VMware安装CentOS" class="headerlink" title="VMware安装CentOS"></a>VMware安装CentOS</h4>
      
        <h3 id="安装到物理机">
          <a href="#安装到物理机" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装到物理机" class="headerlink" title="安装到物理机"></a>安装到物理机</h3>
      
        <h2 id="Linux目录结构">
          <a href="#Linux目录结构" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linux目录结构" class="headerlink" title="Linux目录结构"></a>Linux目录结构</h2>
      
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210811205523078.png" alt="image-20210811205523078" style="zoom: 80%;">
      

<ul>
<li>root — 启动<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="http://linux-wiki.cn/wiki/Linux">Linux</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>时使用的一些核心文件。如操作系统<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="http://linux-wiki.cn/index.php?title=%E5%86%85%E6%A0%B8&action=edit&redlink=1">内核</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>、引导程序<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="http://linux-wiki.cn/wiki/Category:Grub">Grub</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>等。</li>
<li>home — 存储普通用户的个人文件<ul>
<li>ftp — 用户所有服务</li>
<li>httpd</li>
<li>samba</li>
<li>user1</li>
<li>user2</li>
</ul>
</li>
<li>bin — 系统启动时需要的执行文件（二进制）</li>
<li>sbin — 可执行程序的目录，但大多存放涉及系统管理的命令。只有root权限才能执行</li>
<li>proc — 虚拟，存在linux内核镜像；保存所有内核参数以及系统配置信息<ul>
<li>1 — 进程编号</li>
</ul>
</li>
<li>usr — 用户目录，存放用户级的文件<ul>
<li>bin — 几乎所有用户所用命令，另外存在与/bin，/usr/local/bin</li>
<li>sbin — 系统管理员命令，与用户相关，例如，大部分服务器程序</li>
<li>include — 存放C/C++头文件的目录</li>
<li>lib — 固定的程序数据</li>
<li>local — 本地安装软件保存位置</li>
<li>man — 手工生成的目录</li>
<li>info — 信息文档</li>
<li>doc — 不同包文档信息</li>
<li>tmp</li>
<li>X11R6 — 该目录用于保存运行X-Window所需的所有文件。该目录中还包含用于运行GUI要的配置文件和二进制文件。</li>
<li>X386　— 功能同X11R6，X11 发行版5 的系统文件</li>
</ul>
</li>
<li>boot — 引导加载器所需文件，系统所需图片保存于此</li>
<li>lib —根文件系统目录下程序和核心模块的公共库<ul>
<li>modules — 可加载模块，系统崩溃后重启所需模块</li>
</ul>
</li>
<li>dev — 设备文件目录</li>
<li>etc — 配置文件<ul>
<li>skel — home目录建立，该目录初始化</li>
<li>sysconfig — 网络，时间，键盘等配置目录</li>
</ul>
</li>
<li>var<ul>
<li>file</li>
<li>lib — 该目录下的文件在系统运行时，会改变</li>
<li>local — 安装在/usr/local的程序数据，变化的</li>
<li>lock — 文件使用特定外设或文件，为其上锁，其他文件暂时不能访问</li>
<li>log — 记录日志</li>
<li>run — 系统运行合法信息</li>
<li>spool — 打印机、邮件、代理服务器等假脱机目录</li>
<li>tmp</li>
<li>catman — 缓存目录</li>
</ul>
</li>
<li>mnt — 临时用于挂载文件系统的地方。一般情况下这个目录是空的，而在我们将要挂载分区时在这个目录下建立目录，再将我们将要访问的设备挂载在这个目录上，这样我们就可访问文件了。</li>
<li>tmp — 临时文件目录，系统启动后的临时文件存放在/var/tmp</li>
<li>lost+found — 在文件系统修复时恢复的文件</li>
</ul>

        <h2 id="Linux常用命令">
          <a href="#Linux常用命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linux常用命令" class="headerlink" title="Linux常用命令"></a>Linux常用命令</h2>
      
        <h3 id="操作目录">
          <a href="#操作目录" class="heading-link"><i class="fas fa-link"></i></a><a href="#操作目录" class="headerlink" title="操作目录"></a>操作目录</h3>
      <ol>
<li>切换目录：<code>cd</code></li>
<li>列出文件列表：<code>ls</code><ul>
<li><code>ls -a</code>：列举出包括<strong>隐藏文件</strong>的所有文件</li>
<li><code>ls -l</code>：列举出详细信息，简写为<code>ll</code></li>
<li><code>ls -lh</code>：以<code>MB</code>为单位列举出详细信息</li>
</ul>
</li>
<li>创建目录/删除目录：<code>mkdir/rmdir</code><ul>
<li>创建多级目录：<code>mkdir -p parent/son</code>，<code>-p</code>参数表示如果不存在<code>parent</code>就同时创建父目录</li>
<li>删除多级空目录：<code>rmdir -p parent/son/sonson</code>，会从sonson内层删除到parent之间的空目录</li>
</ul>
</li>
</ol>

        <h3 id="操作文件">
          <a href="#操作文件" class="heading-link"><i class="fas fa-link"></i></a><a href="#操作文件" class="headerlink" title="操作文件"></a>操作文件</h3>
      <ol>
<li>查看文件内容：<code>cat</code></li>
<li>查看文件内容，一次查看一页：<code>more</code>，按空格翻页，按<code>q</code>退出</li>
<li>查看文件内容，一次查看一页：<code>less</code>，按空格翻页，按<code>q</code>退出，按上下键可以方便地查看一行</li>
<li>倒序查看文件内容：<code>tail</code>，默认倒数10行<ul>
<li>指定倒序查看到第几行：<code>tail -行数 文件名</code>即可</li>
<li>倒序查看文件的实时更新内容：<code>tail -f 文件名</code></li>
</ul>
</li>
<li>复制文件：<code>cp</code></li>
<li>移动文件：<code>mv</code>，可以用来重命名</li>
<li>删除文件：<code>rm</code>，需要输入<code>n</code>（no）或<code>y</code>（yes）来确认<ul>
<li>删除非空文件夹：<code>rm -r 文件夹</code>，删除目录内容及所有子目录下的内容，此命令会询问</li>
<li>删除非空文件夹，且不询问：<code>rm -rf 文件夹</code>，删除目录内容及所有子目录下的内容</li>
<li>删除超过指定天数7天的zip文件：<code>find ./ -type f -name &quot;*.zip&quot; -mtime +7 -delete</code></li>
</ul>
</li>
</ol>

        <h3 id="打包或解压">
          <a href="#打包或解压" class="heading-link"><i class="fas fa-link"></i></a><a href="#打包或解压" class="headerlink" title="打包或解压"></a>打包或解压</h3>
      <ol>
<li><code>tar -cvf</code>：打包指定的文件或目录，但不压缩，例如：<code>tar -cvf xxx.tar ./*</code><ul>
<li><code>c</code>：创建一个新的tar文件</li>
<li><code>v</code>：显示出运行过程</li>
<li><code>f</code>：指定文件名</li>
<li><code>z</code>：调用gzip进行压缩</li>
<li><code>t</code>：查看压缩文件的内容</li>
<li><code>x</code>：解压缩</li>
</ul>
</li>
<li><code>tar -zcvf </code>：打包指定的文件或目录，且利用gzip压缩，例如：<code>tar -zcvf xxx.tar.gz ./*</code></li>
<li><code>tar -xvf</code>：解压指定的tar包</li>
<li><code>tar -xzvf</code>：解压指定的gzip压缩包，可以利用<code>-C</code>重新指定解压位置</li>
</ol>

        <h3 id="查找文件或内容">
          <a href="#查找文件或内容" class="heading-link"><i class="fas fa-link"></i></a><a href="#查找文件或内容" class="headerlink" title="查找文件或内容"></a>查找文件或内容</h3>
      <ol>
<li><code>find</code>：查找文件，例如：<code>find 目录 -name &quot;文件名&quot;</code>，查找指定目录（包括子目录的文件）<ul>
<li><code>find 目录 -maxdepth 最大查找深度 -name &quot;文件名&quot;</code>，限制查找深度，比如为1时只查找当前1层</li>
</ul>
</li>
<li><code>grep</code>：查找文件的内容，例如：<code>grep 要查找的关键字 文件名</code>，在指定文件名的文件中查找关键字的内容<ul>
<li><code>grep 关键字 文件名 --color</code>，查找结果中高亮显示查找的关键字</li>
<li><code>grep 关键字 文件名 -A行数</code>，查找的结果往后（After）显示几行</li>
<li><code>grep 关键字 文件名 -B行数</code>，查找的结果往前（Before）显示几行</li>
</ul>
</li>
</ol>

        <h3 id="其他常用命令">
          <a href="#其他常用命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#其他常用命令" class="headerlink" title="其他常用命令"></a>其他常用命令</h3>
      <ol>
<li><code>pwd</code>：查看当前目录</li>
<li><code>groups</code>：查看当前属于的组</li>
<li><code>whoami</code>：查看当前用户</li>
<li><code>getconf LONG_BIT</code>：查看系统版本位数</li>
<li><code>cat /etc/redhat-release</code>：查看发行版本</li>
<li><code>uname -r</code>：查看Linux内核版本</li>
<li><code>free -h</code>：查看内存使用情况</li>
<li><code>lsof -i:端口号</code>：查看占用端口的进程</li>
<li><code>netstat -tunlp | grep 端口号</code>：同上</li>
<li><code>touch</code>：创建一个文件</li>
<li><code>clear</code>：清除屏幕，等同于<code>ctrl+L</code></li>
</ol>

        <h2 id="VI和VIM编辑器">
          <a href="#VI和VIM编辑器" class="heading-link"><i class="fas fa-link"></i></a><a href="#VI和VIM编辑器" class="headerlink" title="VI和VIM编辑器"></a>VI和VIM编辑器</h2>
      
        <h3 id="VI提供了3种模式">
          <a href="#VI提供了3种模式" class="heading-link"><i class="fas fa-link"></i></a><a href="#VI提供了3种模式" class="headerlink" title="VI提供了3种模式"></a>VI提供了3种模式</h3>
      <ol>
<li>命令行</li>
<li>插入</li>
<li>底行</li>
</ol>

        <h3 id="切换到命令行模式：ESC">
          <a href="#切换到命令行模式：ESC" class="heading-link"><i class="fas fa-link"></i></a><a href="#切换到命令行模式：ESC" class="headerlink" title="切换到命令行模式：ESC"></a>切换到<strong>命令行模式</strong>：<code>ESC</code></h3>
      
        <h3 id="切换到插入模式：i、o、a">
          <a href="#切换到插入模式：i、o、a" class="heading-link"><i class="fas fa-link"></i></a><a href="#切换到插入模式：i、o、a" class="headerlink" title="切换到插入模式：i、o、a"></a>切换到<strong>插入模式</strong>：<code>i</code>、<code>o</code>、<code>a</code></h3>
      <ul>
<li><code>i</code>：在当前位置插入</li>
<li><code>I</code>：在当前行首插入</li>
<li><code>a</code>：在当前位置后插入</li>
<li><code>A</code>：在当前行尾插入</li>
<li><code>o</code>：在当前行之后插入</li>
<li><code>O</code>：在当前行之前插入</li>
</ul>

        <h3 id="切换到替换模式：R">
          <a href="#切换到替换模式：R" class="heading-link"><i class="fas fa-link"></i></a><a href="#切换到替换模式：R" class="headerlink" title="切换到替换模式：R"></a>切换到替换模式：<code>R</code></h3>
      <ul>
<li>替换模式下对每一个字符做的输入都会替换掉原来位置的字符</li>
</ul>

        <h3 id="切换到可视模式：v或V">
          <a href="#切换到可视模式：v或V" class="heading-link"><i class="fas fa-link"></i></a><a href="#切换到可视模式：v或V" class="headerlink" title="切换到可视模式：v或V"></a>切换到可视模式：v或V</h3>
      <ul>
<li><code>v</code>：从当前光标开始可视</li>
<li><code>V</code>：从当前行开始按行可视</li>
</ul>

        <h3 id="操作VIM文本">
          <a href="#操作VIM文本" class="heading-link"><i class="fas fa-link"></i></a><a href="#操作VIM文本" class="headerlink" title="操作VIM文本"></a>操作VIM文本</h3>
      <ul>
<li><code>Home</code>：定位光标到这一行的开头<ul>
<li><code>^</code>：定位光标到这一行开头的第一个非空白字符</li>
</ul>
</li>
<li><code>End</code>：定位光标到这一行的结尾<ul>
<li><code>$</code>：定位光标到这一行结尾的最后一个非空白字符</li>
</ul>
</li>
<li><code>PageUp</code>：向上翻页，相当于<code>ctrl + b/B</code><ul>
<li><code>ctrl + y</code>：向上滚动屏幕</li>
</ul>
</li>
<li><code>PageDown</code>：向下翻页，相当于<code>ctrl + f/F</code><ul>
<li><code>ctrl + e</code>：向下滚动屏幕</li>
</ul>
</li>
<li><code>h</code>：向左移动光标，但不会导致换行</li>
<li><code>l</code>：向右移动光标，但不会导致换行</li>
<li><code>enter</code>：向下移动光标到下一行第一个非空白字符处</li>
<li><code>H</code>：移动至顶部第一个非空白字符处</li>
<li><code>M</code>：移动至屏幕中间第一个非空白字符处</li>
<li><code>L</code>：移动至底部第一个非空白字符处</li>
<li><code>zz</code>：移动至当前行作为屏幕中间处</li>
<li><code>w</code>：移动到下一个单词字首</li>
<li><code>W</code>：移动到下一个单词字首（忽略标点符号）</li>
<li><code>e</code>：移动到下一个单词字尾</li>
<li><code>E</code>：移动到下一个单词字尾（忽略标点符号）</li>
<li><code>b</code>：移动到上一个单词字首</li>
<li><code>B</code>：移动到上一个单词字首（忽略标点符号）</li>
<li><code>)</code>：移动到下一个句首</li>
<li><code>(</code>：移动到上一个句首</li>
<li><code>&#125;</code>：移动到下一个段落首</li>
<li><code>&#123;</code>：移动到上一个段落首</li>
<li><code>%</code>：移动到匹配的另一个<code>&#123;&#125;</code>、<code>[]</code>、<code>()</code>等括号</li>
<li><code>列数|</code>：光标移动到第<code>列数</code>列</li>
<li><code>d + 一个改变光标操作</code>：从光标起始位置删除至改变后的位置</li>
<li><code>dd</code>：快速删除整行</li>
<li><code>x</code>：删除光标处的字符<ul>
<li><code>Nx</code>：删除光标处往后N个字符</li>
</ul>
</li>
<li><code>X</code>：删除光标前一个字符<ul>
<li><code>NX</code>：删除光标处往前N个字符</li>
</ul>
</li>
<li><code>D</code>：删除光标到这行结尾之间的字符</li>
<li><code>C</code>：修改光标到这行结尾之间的字符，相当于<code>D + i</code></li>
<li><code>S</code>：修改整行的字符，相当于<code>Home + C</code></li>
<li><code>diw</code>：删除光标所在的单词，不包括空白字符</li>
<li><code>daw</code>：删除光标所在的单词，包括空白字符</li>
<li><code>dw</code>：删除光标到下一个单词词首之间的字符</li>
<li><code>yy</code>：复制当前行<ul>
<li><code>P</code>：粘贴复制的内容到当前光标前</li>
<li><code>p</code>：粘贴复制的内容到当前光标后</li>
</ul>
</li>
<li><code>ma</code>：对当前光标处做一个<code>a</code>标记<ul>
<li><code>y&#39;a</code>：复制新光标处到<code>a</code>标记之间的内容</li>
<li><code>d&#39;a</code>：删除新光标处到<code>a</code>标记之间的内容</li>
</ul>
</li>
<li><code>u</code>：撤销改动（undo）</li>
<li><code>ctrl + r</code>：重做改动（redo）</li>
<li><code>:/关键字</code>：从头开始向下搜索关键字<ul>
<li>搭配<code>n</code>快速定位光标到下一个搜索到的内容</li>
<li>搭配<code>N</code>快速定位光标到上一个搜索到的内容</li>
</ul>
</li>
<li><code>:?关键字</code>：从末尾开始向上搜索关键字</li>
<li><code>zf + 一个改变光标的操作</code>：折叠文本</li>
<li><code>zfap</code>：折叠一个段落的文本</li>
<li><code>zo</code>：打开折叠的文本</li>
<li><code>zc</code>：关闭折叠</li>
<li><code>&#39;</code>：移动到上一次修改的行</li>
<li><code>&#39;&#39;</code>：移动到上一次光标所在位置</li>
<li><code>N%</code>：跳转到文本的百分之<code>N</code>的位置</li>
<li><code>&gt;&gt;</code>：把当前行向右移动一段距离<ul>
<li><code>N&gt;&gt;</code>：把下面<code>N</code>行向右移动一段距离</li>
<li><code>:N,M&gt;&gt;</code>：把<code>N</code>到<code>M</code>行向右移动一段距离</li>
</ul>
</li>
<li><code>&lt;&lt;</code>：把当前行向左移动一段距离<ul>
<li><code>N&lt;&lt;</code>：把下面<code>N</code>行向左移动一段距离</li>
<li><code>:N,M&lt;&lt;</code>：把<code>N</code>到<code>M</code>行向左移动一段距离</li>
</ul>
</li>
<li><code>.</code>：重复上一条命令</li>
</ul>

        <h3 id="页面命令">
          <a href="#页面命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#页面命令" class="headerlink" title="页面命令"></a>页面命令</h3>
      <ul>
<li><p>显示行号：命令模式下<code>:</code>后输入<code>set number</code>或<code>set nu</code></p>
<ul>
<li><code>set</code>指令可简写为<code>se</code></li>
</ul>
</li>
<li><p>查看总行数和所处位置百分比：<code>ctrl + g</code></p>
</li>
<li><p>字数统计：<code>g ctrl + g</code></p>
</li>
<li><p>到第一行：<code>1G</code>，相当于<code>gg</code>，也相当于命令模式下<code>:</code>后输入<code>1</code></p>
</li>
<li><p>到第N行：<code>行号G</code>，命令模式下<code>:</code>后输入<code>行号</code></p>
</li>
<li><p>到最后一行：<code>G</code></p>
</li>
<li><p>向上半页：<code>ctrl + u/U</code></p>
</li>
<li><p>向下半页：<code>ctrl + d/D</code></p>
</li>
<li><p>暂停vi回到提示符：<code>ctrl + z</code></p>
</li>
<li><p>重新回到vi：<code>fg</code></p>
</li>
</ul>

        <h3 id="退出VIM">
          <a href="#退出VIM" class="heading-link"><i class="fas fa-link"></i></a><a href="#退出VIM" class="headerlink" title="退出VIM"></a>退出VIM</h3>
      <ul>
<li><p><code>:q</code>退出VI或VIM</p>
</li>
<li><p><code>:q!</code>放弃所做的更改，强制退出</p>
</li>
<li><p><code>:wq</code>保存更改并退出</p>
</li>
</ul>

        <h2 id="重定向控制台的输出">
          <a href="#重定向控制台的输出" class="heading-link"><i class="fas fa-link"></i></a><a href="#重定向控制台的输出" class="headerlink" title="重定向控制台的输出"></a>重定向控制台的输出</h2>
      <ul>
<li><code>cat 文本文件 &gt; 目标文件名</code>：把文本文件的内容输出到目标文件中</li>
<li><code>cat 文本文件 &gt;&gt; 目标文件名</code>：把文本文件输出并且追加到目标文件中</li>
</ul>
<p><strong>注意：任何能在控制台打印的信息都可以重定向，不是只有<code>cat</code></strong></p>

        <h2 id="进程管理">
          <a href="#进程管理" class="heading-link"><i class="fas fa-link"></i></a><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h2>
      <ul>
<li><code>ps -ef</code>：查看正在运行的进程<ul>
<li><code>ps -ef | grep 关键字</code>：筛选进程列表中含有关键字的进程</li>
</ul>
</li>
<li><code>kill 进程号</code>：关闭进程</li>
<li><code>kill -9 进程号</code>：强制关闭进程</li>
</ul>

        <h2 id="管道：">
          <a href="#管道：" class="heading-link"><i class="fas fa-link"></i></a><a href="#管道：" class="headerlink" title="管道：|"></a>管道：<code>|</code></h2>
      <p>管道可以将一个命令的输出作为另一个命令的输入，例如上面筛选进程的案例：<code>ps -ef | grep 关键字</code></p>

        <h2 id="Linux权限管理">
          <a href="#Linux权限管理" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linux权限管理" class="headerlink" title="Linux权限管理"></a>Linux权限管理</h2>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210811232306155.png" alt="image-20210811232306155">
      </p>
<p><strong>第一个字符</strong>表示文件类型：</p>
<ul>
<li><code>-</code>：表示这是一个<strong>文件</strong></li>
<li><code>l</code>：表示这是一个<strong>链接</strong></li>
<li><code>d</code>：表示这是一个<strong>目录</strong></li>
<li><code>b</code>：表示这是一个<strong>块设备</strong></li>
<li><code>s</code>：表示这是一个<strong>套接字</strong></li>
</ul>
<p><strong>第一组字符（rwx）</strong>表示<strong>当前用户</strong>对该文件的权限</p>
<p><strong>第二组字符（rwx）</strong>表示<strong>当前组内</strong>的用户对该文件的权限</p>
<p><strong>第三组字符（rwx）</strong>表示<strong>其他组</strong>的用户对该文件的权限</p>

        <h3 id="权限符号">
          <a href="#权限符号" class="heading-link"><i class="fas fa-link"></i></a><a href="#权限符号" class="headerlink" title="权限符号"></a>权限符号</h3>
      <ul>
<li><code>r</code>表示对于该用户可读，对于文件来说是允许读取内容，对于目录来说是允许读取其中的文件</li>
<li><code>w</code>表示对于该用户可写，对于文件来说是允许修改其内容，对于目录来说可以写信息到目录中，即可以创建、删除文件、移动文件等操作</li>
<li><code>x</code>表示对于该用户可执行，对于文件来说就是可以执行该文件，对于目录来说则是可以进入目录；可以搜索（能用该目录名称作为路径名去访问它所包含的文件和子目录）</li>
</ul>

        <h3 id="修改权限">
          <a href="#修改权限" class="heading-link"><i class="fas fa-link"></i></a><a href="#修改权限" class="headerlink" title="修改权限"></a>修改权限</h3>
      <ul>
<li><code>chmod u=rwx[,g=rwx,o=rwx] 文件名</code>：修改该文件的对应的用户权限，可选</li>
<li><code>chmod 777 文件名 </code>：修改该文件名对应的用户权限，其中<code>r</code>：4，<code>w</code>：2，<code>x</code>：1</li>
<li><code>chmod +x 文件名</code>：修改该文件名对应的权限，为所有用户增加<code>x</code>可执行权限</li>
</ul>

        <h2 id="Linux网络操作">
          <a href="#Linux网络操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linux网络操作" class="headerlink" title="Linux网络操作"></a>Linux网络操作</h2>
      
        <h3 id="主机名配置">
          <a href="#主机名配置" class="heading-link"><i class="fas fa-link"></i></a><a href="#主机名配置" class="headerlink" title="主机名配置"></a>主机名配置</h3>
      <ul>
<li><code>hostname</code>：查看当前主机名<ul>
<li><code>hostname 新主机名</code>：临时更改主机名，重启失效</li>
</ul>
</li>
<li><code>hostnamectl set-hostname 新主机名</code>：设置主机名</li>
<li>或者修改<code>/etc/sysconfig/network</code>文件的<code>HOSTNAME</code></li>
</ul>

        <h3 id="关闭防火墙">
          <a href="#关闭防火墙" class="heading-link"><i class="fas fa-link"></i></a><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h3>
      <p><strong>CentOS 7</strong> 默认以<strong>firewalld</strong>作为防火墙</p>
<ul>
<li><p><code>systemctl stop firewalld</code>：关闭防火墙</p>
</li>
<li><p><code>systemctl disable firewalld</code>：禁用防火墙</p>
</li>
</ul>

        <h3 id="IP地址配置">
          <a href="#IP地址配置" class="heading-link"><i class="fas fa-link"></i></a><a href="#IP地址配置" class="headerlink" title="IP地址配置"></a>IP地址配置</h3>
      <ul>
<li>修改<code>/etc/sysconfig/network-scripts/</code>下的网卡配置，例如<code>ifcfg-ens33</code><ul>
<li>修改<code>ONBOOT</code>为<code>yes</code>以保证网卡在开机时自启</li>
<li>修改<code>IPADDR</code>为IP地址</li>
<li>修改<code>NETMASK</code>为子网掩码</li>
<li>修改<code>GATEWAY</code>为网关地址</li>
<li>修改<code>DNS1</code>和<code>DNS2</code>为DNS</li>
</ul>
</li>
<li>修改完毕后执行<code>service network restart</code>重启网络服务</li>
</ul>

        <h3 id="域名映射">
          <a href="#域名映射" class="heading-link"><i class="fas fa-link"></i></a><a href="#域名映射" class="headerlink" title="域名映射"></a>域名映射</h3>
      <ul>
<li>修改<code>/etc/hosts</code>文件</li>
</ul>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210811235630532.png" alt="image-20210811235630532">
       </p>

        <h2 id="Linux的软件安装">
          <a href="#Linux的软件安装" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linux的软件安装" class="headerlink" title="Linux的软件安装"></a>Linux的软件安装</h2>
      
        <h3 id="常见的软件安装方式">
          <a href="#常见的软件安装方式" class="heading-link"><i class="fas fa-link"></i></a><a href="#常见的软件安装方式" class="headerlink" title="常见的软件安装方式"></a>常见的软件安装方式</h3>
      <ul>
<li>二进制发布包：解压即可安装</li>
<li>RPM包：获取RPM包然后用RPM命令安装</li>
<li>Yum：获取RPM软件用Yum安装，可以解决一些库依赖问题</li>
<li>源码编译安装：把源码编译打包部署</li>
</ul>

        <h3 id="上传与下载工具">
          <a href="#上传与下载工具" class="heading-link"><i class="fas fa-link"></i></a><a href="#上传与下载工具" class="headerlink" title="上传与下载工具"></a>上传与下载工具</h3>
      <ul>
<li>FileZilla</li>
<li>lrzsz：支持yum安装：<code>yum install lrzsz</code><ul>
<li>上传到本机：<code>rz</code></li>
<li>从本机下载：<code>sz 文件名</code></li>
</ul>
</li>
</ul>

        <h2 id="Linux配置JavaWeb环境">
          <a href="#Linux配置JavaWeb环境" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linux配置JavaWeb环境" class="headerlink" title="Linux配置JavaWeb环境"></a>Linux配置JavaWeb环境</h2>
      
        <h3 id="安装JDK">
          <a href="#安装JDK" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h3>
      <ul>
<li>CentOS 7自带Open JDK<ul>
<li>使用<code>rpm -qa | grep java</code>，查看所有的<code>java</code>包名</li>
<li>使用<code>rpm -e --nodeps 包名 </code>，卸载掉报名对应的包</li>
</ul>
</li>
</ul>
<ol>
<li><p>复制<code>JDK</code>安装包</p>
</li>
<li><p>解压缩包</p>
</li>
<li><p>配置环境变量</p>
<ul>
<li><p>使用vim修改<code>/etc/profile</code>文件</p>
</li>
<li><p>添加JAVA环境变量：</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/root/jdk1.8.0_171</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin</span><br></pre></td></tr></table></div></figure></li>
<li><p>使环境变量生效：<code>source /etc/profile</code></p>
</li>
</ul>
</li>
</ol>

        <h3 id="安装MySQL">
          <a href="#安装MySQL" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装MySQL" class="headerlink" title="安装MySQL"></a>安装MySQL</h3>
      <ol>
<li><p>复制<code>MySQL</code>安装包</p>
</li>
<li><p>解压缩包</p>
<ul>
<li><p>得到的rpm文件：</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210812003923200.png" alt="image-20210812003923200">
      </p>
</li>
</ul>
</li>
<li><p>安装<strong>服务器端</strong>：<code>rpm -ivh MySQL-server-5.6.22-1.el7.x86_64.rpm</code></p>
<ul>
<li><p>一大堆<code>mariadb</code>报错解决方案：</p>
<ol>
<li><code>rpm -qa | grep mariadb</code>列举所有的<code>mariadb</code>包</li>
<li>通过<code>rpm -e --nodeps 包名</code>全部卸载</li>
<li>重新执行MySQL安装即可</li>
</ol>
</li>
<li><p>安装完成后的初始密码在<code>/root/.mysql_secret</code>下</p>
</li>
</ul>
</li>
<li><p>安装<strong>客户端</strong>：<code>rpm -ivh MySQL-client-5.6.22-1.el7.x86_64.rpm</code></p>
</li>
<li><p>启动mysql：<code>service mysql start</code></p>
<ul>
<li>第一次使用mysql必须设置密码：<code>set password = password(&#39;密码&#39;);</code></li>
</ul>
</li>
<li><p>开放远程访问权限：</p>
<ul>
<li><code>grant all privileges on *.* to &#39;root&#39;@&#39;%&#39; identified by &#39;root&#39;;</code>授权<ul>
<li>注意这个<code>identified by</code>后面是授权给这个用户的密码</li>
</ul>
</li>
<li><code>flush privileges;</code>刷新权限</li>
</ul>
</li>
</ol>

        <h3 id="安装Tomcat">
          <a href="#安装Tomcat" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装Tomcat" class="headerlink" title="安装Tomcat"></a>安装Tomcat</h3>
      <ol>
<li>复制<code>Tomcat</code>安装包</li>
<li>解压缩包</li>
<li>解压完即可使用<code>bin</code>目录下的<code>startup.sh</code>启动</li>
</ol>

        <h3 id="安装Redis">
          <a href="#安装Redis" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装Redis" class="headerlink" title="安装Redis"></a>安装Redis</h3>
      <ul>
<li>Redis需要手动使用GCC编译，需要先安装GCC：<code>yum install gcc</code></li>
</ul>
<ol>
<li>复制<code>Redis</code>安装包</li>
<li>解压缩</li>
<li>进入Redis安装目录，执行：<code>make</code>编译</li>
<li>编译完成后，执行：<code>make PREFIX=/usr/local/redis install</code>进行安装</li>
<li>Redis将被安装到<code>/usr/local/redis</code>下</li>
</ol>
<p><strong>提示</strong>：</p>
<ul>
<li>Redis配置文件在安装包内，可以手动复制到<code>/usr/local/redis/bin</code>下</li>
<li>使用配置文件启动服务器：<code>./redis-server ./redis.conf</code></li>
<li>启动客户端：<code>./redis-cli</code></li>
</ul>

        <h3 id="安装Nginx">
          <a href="#安装Nginx" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h3>
      <ul>
<li>Nginx是一款高性能的Web服务器/反向代理服务器及电子邮件代理服务器。<ul>
<li>Nginx可以作为HTTP代理服务器</li>
<li>可以在一台服务器虚拟出多个网站</li>
<li>反向代理，负载均衡：对于多个tomcat服务器集群可以平均负担负载</li>
</ul>
</li>
</ul>

        <h4 id="安装">
          <a href="#安装" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装" class="headerlink" title="安装"></a>安装</h4>
      <ul>
<li>Nginx需要手动使用GCC编译，需要先安装GCC环境</li>
<li>需要第三方的开发包：<ul>
<li>PCRE：<code>yum install -y pcre pcre-devel</code>，一个Perl库，包括Perl兼容的正则表达式库，Nginx的HTTP模块需要使用PCRE来解析正则表达式</li>
<li>zlib：<code>yum install -y zlib zlib-devel</code>，zlib提供了很多压缩和解压缩的方式，Nginx使用zlib对HTTP包的内容进行gzip</li>
<li>OpenSSL：<code>yum install -y openssl openssl-devel</code>，OpenSSL是一个强大的安全套接字层密码库，囊括主要的密码算法、常用的密钥和证书封装管理管理及SSL协议。Nginx不仅支持HTTP，还支持HTTPS</li>
</ul>
</li>
</ul>
<ol>
<li><p>复制<code>Nginx</code>安装包</p>
</li>
<li><p>解压缩</p>
</li>
<li><p>使用<code>configure</code>命令生成<code>makefile</code>：</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">./configure \</span><br><span class="line">--prefix=/usr/<span class="built_in">local</span>/nginx \</span><br><span class="line">--pid-path=/var/run/nginx/nginx.pid \</span><br><span class="line">--lock-path=/var/lock/nginx.lock \</span><br><span class="line">--error-log-path=/var/<span class="built_in">log</span>/nginx/error.log \</span><br><span class="line">--http-log-path=/var/<span class="built_in">log</span>/nginx/access.log \</span><br><span class="line">--with-http_gzip_static_module \</span><br><span class="line">--http-client-body-temp-path=/var/temp/nginx/client \</span><br><span class="line">--http-proxy-temp-path=/var/temp/nginx/proxy \</span><br><span class="line">--http-fastcgi-temp-path=/var/temp/nginx/fastcgi \</span><br><span class="line">--http-uwsgi-temp-path=/var/temp/nginx/uwsgi \</span><br><span class="line">--http-scgi-temp-path=/var/temp/nginx/scgi</span><br></pre></td></tr></table></div></figure></li>
<li><p>使用<code>make</code>命令编译<code>makefile</code>文件：<code>make</code></p>
</li>
<li><p>使用<code>make install</code>命令安装：<code>make install</code></p>
</li>
<li><p>创建<code>configure</code>命令里指定的临时目录：<code>mkdir /var/temp/nginx/client -p</code></p>
</li>
<li><p>Nginx将被安装到<code>/usr/local/nginx</code>下</p>
</li>
</ol>
<ul>
<li>启动Nginx：执行Nginx安装目录下的<code>sbin</code>目录下的<code>nginx</code>：<code>./nginx</code></li>
<li>正常停止Nginx：<code>./nginx -s quit</code></li>
<li>强制停止Nginx：<code>./nginx -s stop</code></li>
<li>重新加载配置文件：<code>./nginx -s reload</code></li>
<li>Nginx默认端口：80</li>
</ul>

        <h4 id="部署静态资源">
          <a href="#部署静态资源" class="heading-link"><i class="fas fa-link"></i></a><a href="#部署静态资源" class="headerlink" title="部署静态资源"></a>部署静态资源</h4>
      
        <h5 id="第一种方式：">
          <a href="#第一种方式：" class="heading-link"><i class="fas fa-link"></i></a><a href="#第一种方式：" class="headerlink" title="第一种方式："></a>第一种方式：</h5>
      <ul>
<li>放置html资源到Nginx安装目录的html文件夹，Nginx默认部署<code>html</code>文件夹的<code>index.html</code><ul>
<li><code>nginx.conf</code>指定<code>server &#123; &#125;</code>配置的<code>location / &#123; &#125;</code>里的站点路径</li>
</ul>
</li>
</ul>

        <h5 id="第二种方式：配置虚拟主机">
          <a href="#第二种方式：配置虚拟主机" class="heading-link"><i class="fas fa-link"></i></a><a href="#第二种方式：配置虚拟主机" class="headerlink" title="第二种方式：配置虚拟主机"></a>第二种方式：配置虚拟主机</h5>
      <ul>
<li>配置Nginx安装目录下的配置文件：可以指定多个<code>server &#123; &#125;</code>的<strong>端口</strong><ul>
<li><code>nginx.conf</code>指定<code>server &#123; &#125;</code>配置的<code>listen</code>后的端口号，通过不同端口访问不同的<code>server</code></li>
</ul>
</li>
<li>配置Nginx安装目录下的配置文件：可以指定多个<code>server &#123; &#125;</code>的<strong>域名</strong><ul>
<li><code>nginx.conf</code>指定<code>server &#123; &#125;</code>配置的<code>server_name</code>后配置域名或IP地址，以此访问不同的<code>server</code><ul>
<li>域名需要通过DNS服务器解析，否则就要手动修改电脑的hosts文件</li>
</ul>
</li>
</ul>
</li>
</ul>

        <h4 id="反向代理与负载均衡">
          <a href="#反向代理与负载均衡" class="heading-link"><i class="fas fa-link"></i></a><a href="#反向代理与负载均衡" class="headerlink" title="反向代理与负载均衡"></a>反向代理与负载均衡</h4>
      <ul>
<li>正向代理：正向代理，架设在客户机与目标主机之间，只用于代理内部网络对Internet的连接请求，客户机必须指定代理服务器,并将本来要直接发送到Web服务器上的http请求发送到代理服务器中。</li>
<li>反向代理：反向代理服务器架设在服务器端，通过缓冲经常被请求的页面来缓解服务器的工作量，将客户机请求转发给内部网络上的目标服务器；并将从服务器上得到的结果返回给请求连接的客户端，此时代理服务器与目标主机一起对外表现为一个服务器。</li>
</ul>

        <h5 id="反向代理">
          <a href="#反向代理" class="heading-link"><i class="fas fa-link"></i></a><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h5>
      <p><strong>修改<code>nginx.conf</code>配置：</strong></p>
<ol>
<li><p>在<code>http &#123; &#125;</code>内配置一个upstream：</p>
<figure class="highlight basic"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">upstream 代理的名称 &#123;</span><br><span class="line">    server 被代理的服务器ip:端口;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
<li><p>定义一个server：</p>
<figure class="highlight coffeescript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen       <span class="number">80</span>; <span class="comment">#用于访问的端口号</span></span><br><span class="line">        server_name  localhost; <span class="comment">#用于访问的域名或IP地址</span></span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass http:<span class="regexp">//</span>代理的项目名称; <span class="comment">#反向代理的访问路径</span></span><br><span class="line">            index  index.jsp; <span class="comment">#访问的文件名</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
<li><p>重启nginx：<code>./nginx -s reload</code></p>
</li>
</ol>

        <h5 id="负载均衡">
          <a href="#负载均衡" class="heading-link"><i class="fas fa-link"></i></a><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h5>
      <ol>
<li><p>为每一个被代理的tomcat服务器和端口配置为server：此时访问被代理的项目，3台server被Nginx随机分配</p>
<figure class="highlight basic"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">upstream 代理的名称 &#123;</span><br><span class="line">    server 被代理的服务器<span class="number">1</span>ip:端口;</span><br><span class="line">    server 被代理的服务器<span class="number">2</span>ip:端口;</span><br><span class="line">    server 被代理的服务器<span class="number">3</span>ip:端口;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
<li><p>为每一个被代理的tomcat服务器和端口配置为server，并且指定<strong>权重</strong>：</p>
<figure class="highlight basic"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">upstream 代理的名称 &#123;</span><br><span class="line">    server 被代理的服务器<span class="number">1</span>ip:端口 weight=权重<span class="number">1</span>;</span><br><span class="line">    server 被代理的服务器<span class="number">2</span>ip:端口 weight=权重<span class="number">2</span>;</span><br><span class="line">    server 被代理的服务器<span class="number">3</span>ip:端口 weight=权重<span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong>注意：由于每次访问的tomcat服务器不确定，可能导致session问题，建议使用<code>ip_hash</code>方式分配负载</strong></p>
</li>
<li><p>为此upstream代理指定为<strong>按照请求的ip的hash结果分配</strong>：</p>
<figure class="highlight basic"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">upstream 代理的名称 &#123;</span><br><span class="line">	ip_hash;</span><br><span class="line">    server 被代理的服务器<span class="number">1</span>ip:端口;</span><br><span class="line">    server 被代理的服务器<span class="number">2</span>ip:端口;</span><br><span class="line">    server 被代理的服务器<span class="number">3</span>ip:端口;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
<li><p>为此upstream代理指定为<strong>按照访问url的hash结果分配</strong>，使每个url定向到同一个后端服务器，后端服务器为缓存时比较有效：</p>
<figure class="highlight basic"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">upstream 代理的名称 &#123;</span><br><span class="line">	hash $request_uri;</span><br><span class="line">	hash_method crc32;</span><br><span class="line">    server 被代理的服务器<span class="number">1</span>ip:端口;</span><br><span class="line">    server 被代理的服务器<span class="number">2</span>ip:端口;</span><br><span class="line">    server 被代理的服务器<span class="number">3</span>ip:端口;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong>注意：此时不能指定weight等其他参数，hash_method后为hash算法</strong></p>
</li>
<li><p>为此upstream代理的server指定其他参数：</p>
<ul>
<li><p><code>down</code>：此server暂时不参与负载</p>
</li>
<li><p><code>backup</code>：当其他所有的非backup服务器为down或者忙的时候才请求backup服务器</p>
<figure class="highlight basic"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">upstream 代理的名称 &#123;</span><br><span class="line">	ip_hash;</span><br><span class="line">    server 被代理的服务器<span class="number">1</span>ip:端口 down; #不参与负载</span><br><span class="line">    server 被代理的服务器<span class="number">2</span>ip:端口 weight=<span class="number">2</span>; #权重为<span class="number">2</span></span><br><span class="line">    server 被代理的服务器<span class="number">3</span>ip:端口 backup; #备用服务器</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
</ul>
</li>
</ol>

        <h2 id="Linux部署项目案例">
          <a href="#Linux部署项目案例" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linux部署项目案例" class="headerlink" title="Linux部署项目案例"></a>Linux部署项目案例</h2>
      <ul>
<li><p>Maven项目进行<code>package</code>命令后<strong>生成的包名</strong>过长，可以在<code>build</code>标签内指定<code>finalName</code>标签<strong>设置名称</strong></p>
</li>
<li><p>指定数据库连接配置的<strong>字符集</strong>：</p>
<ul>
<li>修改<code>druid.properties</code>：<code>url=jdbc:mysql://localhost:3306/db1?characterEncoding=utf-8</code></li>
</ul>
</li>
<li><p>修改项目中的绝对路径为相对路径</p>
</li>
<li><p>修改无误后利用Maven进行打包，执行Maven的：<code>package</code></p>
</li>
<li><p>复制打包好的<code>war</code>文件到服务器上，在运行<code>tomcat</code>的情况下直接复制到<code>webapps</code>目录下即可自动部署</p>
</li>
</ul>
<p><strong>可能遇到的问题</strong>：</p>
<ul>
<li><p>Web项目获取不到服务器端的验证码，日志显示服务器500错误：<font color="darkred"><code>根本原因：java.awt.AWTError:Can&#39;t connect to X11 window server using localhost as the value of the DISPLAY variable.</code></font></p>
<ul>
<li><p>原因：这种情况是由于用到了java.awt包下的Image等对象导致的问题</p>
</li>
<li><p>解决方法：修改tomcat的<code>bin</code>目录下的<code>catalina.sh</code>：</p>
<p>在最上方添加：<code>JAVA_OPTS=&quot;$JAVA_OPTS -Djava.awt.headless=true&quot;</code>即可解决图片500问题</p>
</li>
</ul>
</li>
</ul>

        <h1 id="Docker">
          <a href="#Docker" class="heading-link"><i class="fas fa-link"></i></a><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1>
      
        <h2 id="使用背景">
          <a href="#使用背景" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用背景" class="headerlink" title="使用背景"></a>使用背景</h2>
      <p><strong>项目部署的问题：</strong></p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925152744642.png" alt="image-20210925152744642">
      </p>
<p><strong>Docker解决依赖的兼容问题：</strong></p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925152950772.png" alt="image-20210925152950772">
      </p>
<p><strong>Docker解决不同系统环境问题：</strong></p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925153350716.png" alt="image-20210925153350716">
      </p>
<p><strong>Docker解决大型项目依赖关系复杂、不同组件依赖的兼容性问题：</strong></p>
<ul>
<li><p>Docker允许开发中将应用、依赖、函数库、配置一起打包，形成可移植镜像</p>
</li>
<li><p>Docker应用运行在容器中，使用沙箱机制，相互隔离</p>
</li>
</ul>
<p><strong>Docker解决开发、测试、生产环境的差异问题：</strong></p>
<ul>
<li>Docker镜像中包含完整运行环境，包括系统函数库，仅依赖系统的Linux内核，因此可以在任意的Linux系统上运行</li>
</ul>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925154120533.png" alt="image-20210925154120533">
      </p>

        <h2 id="概念-3">
          <a href="#概念-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#概念-3" class="headerlink" title="概念"></a>概念</h2>
      
        <h3 id="Docker与虚拟机">
          <a href="#Docker与虚拟机" class="heading-link"><i class="fas fa-link"></i></a><a href="#Docker与虚拟机" class="headerlink" title="Docker与虚拟机"></a>Docker与虚拟机</h3>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925154814518.png" alt="image-20210925154814518">
      </p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925155029677.png" alt="image-20210925155029677">
      </p>

        <h3 id="镜像和容器">
          <a href="#镜像和容器" class="heading-link"><i class="fas fa-link"></i></a><a href="#镜像和容器" class="headerlink" title="镜像和容器"></a>镜像和容器</h3>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925155316704.png" alt="image-20210925155316704">
      </p>

        <h3 id="Docker和DockerHub">
          <a href="#Docker和DockerHub" class="heading-link"><i class="fas fa-link"></i></a><a href="#Docker和DockerHub" class="headerlink" title="Docker和DockerHub"></a>Docker和DockerHub</h3>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925155421943.png" alt="image-20210925155421943">
      </p>

        <h3 id="Docker架构">
          <a href="#Docker架构" class="heading-link"><i class="fas fa-link"></i></a><a href="#Docker架构" class="headerlink" title="Docker架构"></a>Docker架构</h3>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925155643573.png" alt="image-20210925155643573">
      </p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925155741092.png" alt="image-20210925155741092">
      </p>

        <h2 id="快速入门">
          <a href="#快速入门" class="heading-link"><i class="fas fa-link"></i></a><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2>
      
        <h3 id="安装Docker">
          <a href="#安装Docker" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装Docker" class="headerlink" title="安装Docker"></a>安装Docker</h3>
      <blockquote>
<p>企业部署一般都是采用Linux操作系统，而其中又数CentOS发行版占比最多，所以安装Docker到CentOS下</p>
</blockquote>
<ol>
<li><p>卸载Docker（可选）</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-selinux \</span><br><span class="line">                  docker-engine-selinux \</span><br><span class="line">                  docker-engine \</span><br><span class="line">                  docker-ce</span><br></pre></td></tr></table></div></figure></li>
<li><p>安装yum工具</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install -y yum-utils \</span><br><span class="line">           device-mapper-persistent-data \</span><br><span class="line">           lvm2 --skip-broken</span><br></pre></td></tr></table></div></figure></li>
<li><p>更新本地镜像源</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 设置docker镜像源</span></span><br><span class="line">yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line">    </span><br><span class="line">sed -i &#x27;s/download.docker.com/mirrors.aliyun.com\/docker-ce/g&#x27; /etc/yum.repos.d/docker-ce.repo</span><br><span class="line"></span><br><span class="line">yum makecache fast</span><br></pre></td></tr></table></div></figure></li>
<li><p>安装Docker-CE</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y docker-ce</span><br></pre></td></tr></table></div></figure></li>
</ol>

        <h3 id="启动Docker">
          <a href="#启动Docker" class="heading-link"><i class="fas fa-link"></i></a><a href="#启动Docker" class="headerlink" title="启动Docker"></a>启动Docker</h3>
      <ol>
<li><p><strong>启动前要关闭防火墙</strong></p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 关闭</span></span><br><span class="line">systemctl stop firewalld</span><br><span class="line"><span class="meta">#</span><span class="bash"> 禁止开机启动防火墙</span></span><br><span class="line">systemctl disable firewalld</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看防火墙状态</span></span><br><span class="line">systemctl status firewalld</span><br></pre></td></tr></table></div></figure></li>
<li><p>启动Docker</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker  # 启动docker服务</span><br><span class="line"></span><br><span class="line">systemctl stop docker  # 停止docker服务</span><br><span class="line">systemctl restart docker  # 重启docker服务</span><br></pre></td></tr></table></div></figure></li>
<li><p>查看状态可以通过：</p>
<ul>
<li><code>systemctl status docker</code></li>
<li><code>docker -v</code></li>
</ul>
</li>
</ol>

        <h3 id="配置镜像加速">
          <a href="#配置镜像加速" class="heading-link"><i class="fas fa-link"></i></a><a href="#配置镜像加速" class="headerlink" title="配置镜像加速"></a>配置镜像加速</h3>
      <blockquote>
<p>参考阿里云容器镜像服务：<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</blockquote>
<p>配置<code>/etc/docker/daemon.json</code></p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line"></span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://kcok668y.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></div></figure>


        <h2 id="Docker基本操作">
          <a href="#Docker基本操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#Docker基本操作" class="headerlink" title="Docker基本操作"></a>Docker基本操作</h2>
      
        <h3 id="镜像名称">
          <a href="#镜像名称" class="heading-link"><i class="fas fa-link"></i></a><a href="#镜像名称" class="headerlink" title="镜像名称"></a>镜像名称</h3>
      <ul>
<li><p>镜像名称一般分为两部分组成：[repository]:[tag]</p>
</li>
<li><p>如果没有指定[tag]，默认为latest最新版本</p>
</li>
</ul>

        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925163641758.png" alt="image-20210925163641758" style="zoom: 33%;">
       


        <h3 id="镜像操作命令">
          <a href="#镜像操作命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#镜像操作命令" class="headerlink" title="镜像操作命令"></a>镜像操作命令</h3>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925163901563.png" alt="image-20210925163901563">
      </p>

        <h4 id="拉取pull">
          <a href="#拉取pull" class="heading-link"><i class="fas fa-link"></i></a><a href="#拉取pull" class="headerlink" title="拉取pull"></a>拉取<code>pull</code></h4>
      <p>案例：从DockerHub拉取一个镜像</p>
<ol>
<li><p>在DockerHub搜索镜像名</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925172741128.png" alt="image-20210925172741128">
      </p>
</li>
<li><p>复制拉取命令</p>

        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925172858950.png" alt="image-20210925172858950" style="zoom: 80%;">
       </li>
<li><p>执行拉取命令等待<code>pull</code>完成</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925173026244.png" alt="image-20210925173026244">
      </p>
</li>
</ol>

        <h4 id="导出save和加载load">
          <a href="#导出save和加载load" class="heading-link"><i class="fas fa-link"></i></a><a href="#导出save和加载load" class="headerlink" title="导出save和加载load"></a>导出<code>save</code>和加载<code>load</code></h4>
      <p>案例：利用<code>docker save</code>将镜像导出磁盘，然后再通过<code>load</code>加载回来</p>
<ol>
<li><p>利用docker 命令 –help查看<code>docker save</code>和<code>docker load</code>的语法</p>
</li>
<li><p>使用<code>docker tag</code>创建新镜像<code>mynginx1.0</code></p>
</li>
<li><p>使用<code>docker save</code>导出到磁盘</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker save -o mynginx.tar nginx:latest</span><br><span class="line"><span class="meta">#</span><span class="bash"> 导出成-o后面的mynginx.tar，镜像为nginx的最新版本</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>使用<code>docker load</code>导入镜像</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker load -i mynginx.tar</span><br><span class="line"><span class="meta">#</span><span class="bash"> 导入的来源为-i后的mynginx.tar</span></span><br></pre></td></tr></table></div></figure>


        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925183121919.png" alt="image-20210925183121919" style="zoom: 50%;">
       </li>
</ol>

        <h3 id="容器命令">
          <a href="#容器命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#容器命令" class="headerlink" title="容器命令"></a>容器命令</h3>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925222930569.png" alt="image-20210925222930569">
      </p>

        <h4 id="案例1：创建运行Nginx容器">
          <a href="#案例1：创建运行Nginx容器" class="heading-link"><i class="fas fa-link"></i></a><a href="#案例1：创建运行Nginx容器" class="headerlink" title="案例1：创建运行Nginx容器"></a>案例1：创建运行Nginx容器</h4>
      <ol>
<li><p>去DockerHub查看Nginx的容器运行命令</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925224318458.png" alt="image-20210925224318458">
      </p>
</li>
<li><p>在80端口运行nginx容器映射到80端口上，可以通过<code>ip:80端口</code>访问此nginx容器</p>
<p><code>docker run --name 容器名 -p 80:80 -d nginx</code></p>
</li>
<li><p>查看访问日志：</p>
<ul>
<li><code>docker logs 容器名</code></li>
<li>刷新查看日志：<code>docker logs -f 容器名</code></li>
</ul>
</li>
<li><p>清理日志</p>
<ul>
<li>进入容器目录：<code>cd /var/lib/docker/containers/容器ID</code></li>
<li>查看大小：<code>ls -lh</code></li>
<li>清空日志：<code>cat /dev/null &gt; 容器ID-json.log</code></li>
</ul>
</li>
</ol>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925225033757.png" alt="image-20210925225033757">
      </p>

        <h4 id="案例2：进入容器修改内容">
          <a href="#案例2：进入容器修改内容" class="heading-link"><i class="fas fa-link"></i></a><a href="#案例2：进入容器修改内容" class="headerlink" title="案例2：进入容器修改内容"></a>案例2：进入容器修改内容</h4>
      <p>要求：进入Nginx容器，修改HTML内容，添加一行文本</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925225825090.png" alt="image-20210925225825090">
      </p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925230547503.png" alt="image-20210925230547503">
      </p>
<p>同理：操作redis容器</p>
<ol>
<li><p>创建redis容器：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name myredis -p 80:80 -d redis redis-server --appendonly yes</span><br></pre></td></tr></table></div></figure></li>
<li><p>进入容器：</p>
<ul>
<li><p>进入bash命令进入然后启动redis-cli</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@master docker]# docker exec -it myredis bash</span><br><span class="line">root@d5ae50394a6d:/data# redis-cli</span><br></pre></td></tr></table></div></figure></li>
<li><p>直接进入redis-cli命令</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@master docker]# docker exec -it myredis redis-cli</span><br></pre></td></tr></table></div></figure></li>
</ul>
</li>
<li><p>现在即可使用redis的命令</p>
</li>
</ol>

        <h4 id="查看已部署的容器信息">
          <a href="#查看已部署的容器信息" class="heading-link"><i class="fas fa-link"></i></a><a href="#查看已部署的容器信息" class="headerlink" title="查看已部署的容器信息"></a>查看已部署的容器信息</h4>
      <ul>
<li>查看正在运行的容器：<code>docker ps</code></li>
<li>查看所有容器，包括没有运行的：<code>docker ps -a</code></li>
<li>查看容器信息并且不省略：<code>docker ps --no-trunc</code></li>
</ul>

        <h2 id="数据卷">
          <a href="#数据卷" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据卷" class="headerlink" title="数据卷"></a>数据卷</h2>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925232700504.png" alt="image-20210925232700504">
      </p>

        <h3 id="概念-4">
          <a href="#概念-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#概念-4" class="headerlink" title="概念"></a>概念</h3>
      <blockquote>
<p>数据卷（volume）是一个虚拟目录，指向宿主机文件系统中的某个目录</p>
</blockquote>

        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925233238823.png" alt="image-20210925233238823" style="zoom: 50%;">
       


        <h3 id="基本语法">
          <a href="#基本语法" class="heading-link"><i class="fas fa-link"></i></a><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925233205970.png" alt="image-20210925233205970">
      </p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925233633952.png" alt="image-20210925233633952">
      </p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925233706310.png" alt="image-20210925233706310">
      </p>

        <h3 id="挂载数据卷">
          <a href="#挂载数据卷" class="heading-link"><i class="fas fa-link"></i></a><a href="#挂载数据卷" class="headerlink" title="挂载数据卷"></a>挂载数据卷</h3>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925233812608.png" alt="image-20210925233812608">
      </p>
<p><strong>案例1：</strong>创建一个nginx容器，修改容器内的html目录内的index.html内容</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925234939623.png" alt="image-20210925234939623">
      </p>
<p><strong>执行<code>docker run</code>时利用<code>-v</code>指定了volume时若不存在，会自动创建此volume</strong></p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210925235114407.png" alt="image-20210925235114407">
      </p>
<p><strong>案例2：</strong>创建并运行一个MySQL容器，将宿主机目录挂载到容器</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210926000524650.png" alt="image-20210926000524650">
      </p>
<ol>
<li><p>创建启动容器</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">        --name mysql \</span><br><span class="line">        -e MYSQL_ROOT_PASSWORD=123 \</span><br><span class="line">        -p 3306:3306 \</span><br><span class="line">        -v /tmp/mysql/conf/hmy.cnf:/etc/mysql/conf.d/hmy.cnf \</span><br><span class="line">        -v /tmp/mysql/logs:/var/log/mysql \</span><br><span class="line">        -v /tmp/mysql/data:/var/lib/mysql \</span><br><span class="line">        -d mysql:5.7.25</span><br></pre></td></tr></table></div></figure></li>
<li><p>启动后<code>/etc/docker/mysql</code>子目录会同步mysql的数据卷，并且可以通过3307端口登录root用户，密码123</p>
<p><font color="red">注意：自定义mysql端口需要给容器配置文件中指定<code>port=3307</code></font>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="images/image-20211122014300152.png" alt="image-20211122014300152">
      </p>
</li>
</ol>
<p><strong>修改mysql时区：</strong></p>
<ul>
<li>进入容器：<code>docker exec -it 容器名 bash</code></li>
<li>查看当前系统时区：<code>date -R</code></li>
<li>修改时区：<code>cp /usr/share/zoneinfo/PRC /etc/localtime</code></li>
<li>退出容器后重启容器：<code>docker restart 容器名</code></li>
</ul>
<p><strong>redis容器案例</strong></p>
<figure class="highlight sh"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run  \</span><br><span class="line">    -p 6379:6379    \</span><br><span class="line">    --name redis_tjj    \</span><br><span class="line">    -v /etc/redis/redis.conf:/etc/redis/redis.conf  \</span><br><span class="line">    -v /etc/redis/data:/data    \</span><br><span class="line">    -d redis:latest \</span><br><span class="line">    redis-server /etc/redis/redis.conf</span><br></pre></td></tr></table></div></figure>

<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210926002503970.png" alt="image-20210926002503970">
      </p>

        <h2 id="自定义镜像">
          <a href="#自定义镜像" class="heading-link"><i class="fas fa-link"></i></a><a href="#自定义镜像" class="headerlink" title="自定义镜像"></a>自定义镜像</h2>
      
        <h3 id="镜像结构">
          <a href="#镜像结构" class="heading-link"><i class="fas fa-link"></i></a><a href="#镜像结构" class="headerlink" title="镜像结构"></a>镜像结构</h3>
      <p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210926005342122.png" alt="image-20210926005342122">
      </p>
<ul>
<li>镜像是将应用程序及其需要的系统函数库、环境、配置、依赖打包而成</li>
</ul>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210926005407454.png" alt="image-20210926005407454">
      </p>

        <h3 id="Dockerfile">
          <a href="#Dockerfile" class="heading-link"><i class="fas fa-link"></i></a><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h3>
      <p>Dockerfile就是一个文本文件，其中包含一个个的<strong>指令（Instruction）</strong>，用指令来说明要执行什么操作来构建镜像。每一个指令都会形成一层Layer</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210926005710948.png" alt="image-20210926005710948">
      </p>
<p><strong>案例：</strong>基于Ubuntu镜像构建一个新镜像，运行一个java项目</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210926011218197.png" alt="image-20210926011218197">
      </p>
<p><strong>简化</strong>：基于java:8-alpine镜像，将一个Java项目构建为镜像</p>

        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210926011547599.png" alt="image-20210926011547599" style="zoom:50%;">
       

<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210926011929772.png" alt="image-20210926011929772">
      </p>

        <h2 id="DockerCompose">
          <a href="#DockerCompose" class="heading-link"><i class="fas fa-link"></i></a><a href="#DockerCompose" class="headerlink" title="DockerCompose"></a>DockerCompose</h2>
      <ul>
<li>Docker Compose可以基于Compose文件帮我们快速的部署分布式应用，而无需手动一个个创建和运行容器</li>
<li>Compose文件是一个文本文件，通过指令定义集群中的每个容器如何运行</li>
</ul>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210926012924275.png" alt="image-20210926012924275">
      </p>

        <h3 id="安装Docker-Compose">
          <a href="#安装Docker-Compose" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装Docker-Compose" class="headerlink" title="安装Docker Compose"></a>安装Docker Compose</h3>
      <ol>
<li><p>下载安装Docker Compose</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装</span></span><br><span class="line">curl -L https://github.com/docker/compose/releases/download/1.23.1/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-compose</span><br></pre></td></tr></table></div></figure>

<p>或者通过上传本地的docker-compose到<code>/user/local/bin</code>目录</p>
</li>
<li><p>修改文件权限：添加可执行权限</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x docker-compose</span><br></pre></td></tr></table></div></figure></li>
<li><p>Bash自动补全命令</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 补全命令</span></span><br><span class="line">curl -L https://raw.githubusercontent.com/docker/compose/1.29.1/contrib/completion/bash/docker-compose &gt; /etc/bash_completion.d/docker-compose</span><br></pre></td></tr></table></div></figure>

<ul>
<li>可能需要修改hosts：<code>echo &quot;199.232.68.133 raw.githubusercontent.com&quot; &gt;&gt; /etc/hosts</code></li>
</ul>
</li>
</ol>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210926014150151.png" alt="image-20210926014150151">
      </p>

        <h3 id="案例：部署微服务集群">
          <a href="#案例：部署微服务集群" class="heading-link"><i class="fas fa-link"></i></a><a href="#案例：部署微服务集群" class="headerlink" title="案例：部署微服务集群"></a>案例：部署微服务集群</h3>
      <p>要求：将cloud-demo的order、user微服务项目利用Docker Compose部署</p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210926125314530.png" alt="image-20210926125314530">
      </p>

        <h2 id="Docker镜像仓库">
          <a href="#Docker镜像仓库" class="heading-link"><i class="fas fa-link"></i></a><a href="#Docker镜像仓库" class="headerlink" title="Docker镜像仓库"></a>Docker镜像仓库</h2>
      
        <h3 id="常见镜像仓库服务">
          <a href="#常见镜像仓库服务" class="heading-link"><i class="fas fa-link"></i></a><a href="#常见镜像仓库服务" class="headerlink" title="常见镜像仓库服务"></a>常见镜像仓库服务</h3>
      <p>镜像仓库（Docker Registry）有公共的和私有的两种形式：</p>
<ul>
<li><strong>公共仓库：</strong>例如Docker官方的DockerHub，国内也有一些云服务商提供类似于DockerHub的公开服务，例如网易云镜像服务、DaoCloud镜像服务、阿里云镜像服务等</li>
<li><strong>私有仓库：</strong>用户可以在本地搭建私有Dcoker Registry。</li>
</ul>

        <h3 id="搭建镜像仓库">
          <a href="#搭建镜像仓库" class="heading-link"><i class="fas fa-link"></i></a><a href="#搭建镜像仓库" class="headerlink" title="搭建镜像仓库"></a>搭建镜像仓库</h3>
      
        <h4 id="简化版镜像仓库">
          <a href="#简化版镜像仓库" class="heading-link"><i class="fas fa-link"></i></a><a href="#简化版镜像仓库" class="headerlink" title="简化版镜像仓库"></a>简化版镜像仓库</h4>
      <blockquote>
<p>Docker官方的Docker Registry是一个基础版本的Docker镜像仓库，具备仓库管理的完整功能，但是没有图形化界面。搭建方式比较简单，命令如下：</p>
</blockquote>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">    --restart=always \</span><br><span class="line">    --name registry	\</span><br><span class="line">    -p 5000:5000 \</span><br><span class="line">    -v registry-data:/var/lib/registry \</span><br><span class="line">    registry</span><br></pre></td></tr></table></div></figure>

<p>命令中挂载了一个数据卷registry-data到容器内的/var/lib/registry 目录，这是私有镜像库存放数据的目录。</p>
<p>访问<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="http://yourip:5000/v2/_catalog">http://YourIp:5000/v2/_catalog</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> 可以查看当前私有镜像服务中包含的镜像</p>

        <h4 id="带有图形化界面版本">
          <a href="#带有图形化界面版本" class="heading-link"><i class="fas fa-link"></i></a><a href="#带有图形化界面版本" class="headerlink" title="带有图形化界面版本"></a>带有图形化界面版本</h4>
      <p>使用DockerCompose部署带有图形界面的DockerRegistry，命令如下：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">version: &#x27;3.0&#x27;</span><br><span class="line">services:</span><br><span class="line">  registry:</span><br><span class="line">    image: registry</span><br><span class="line">    volumes:</span><br><span class="line">      - ./registry-data:/var/lib/registry</span><br><span class="line">  ui:</span><br><span class="line">    image: joxit/docker-registry-ui:static</span><br><span class="line">    ports:</span><br><span class="line">      - 8080:80</span><br><span class="line">    environment:</span><br><span class="line">      - REGISTRY_TITLE=这是私有仓库名字</span><br><span class="line">      - REGISTRY_URL=http://registry:5000</span><br><span class="line">    depends_on:</span><br><span class="line">      - registry</span><br></pre></td></tr></table></div></figure>

<p>由于私服采用的是http协议，默认不被Docker信任，所以需要做一个配置：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 打开要修改的文件</span></span><br><span class="line">vi /etc/docker/daemon.json</span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加内容：</span></span><br><span class="line">&quot;insecure-registries&quot;:[&quot;http://192.168.150.101:8080&quot;]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 重加载</span></span><br><span class="line">systemctl daemon-reload</span><br><span class="line"><span class="meta">#</span><span class="bash"> 重启docker</span></span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></div></figure>

<p>部署成功后访问：<code>ip:8080</code>即可访问<code>Docker Registry UI</code></p>
<p><strong>在私有镜像仓库推送或拉取镜像：</strong></p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210929005648444.png" alt="image-20210929005648444">
      </p>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="/images/image-20210929005733712.png" alt="image-20210929005733712">
      </p>

        <h1 id="Kubernetes">
          <a href="#Kubernetes" class="heading-link"><i class="fas fa-link"></i></a><a href="#Kubernetes" class="headerlink" title="Kubernetes"></a>Kubernetes</h1>
      
        <h2 id="介绍">
          <a href="#介绍" class="heading-link"><i class="fas fa-link"></i></a><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2>
      
        <h3 id="应用程序部署方式的演变">
          <a href="#应用程序部署方式的演变" class="heading-link"><i class="fas fa-link"></i></a><a href="#应用程序部署方式的演变" class="headerlink" title="应用程序部署方式的演变"></a>应用程序部署方式的演变</h3>
      <ul>
<li>物理机部署：应用程序直接部署在物理机上<ul>
<li>缺点：很难合理分配资源，应用程序之间容易产生影响</li>
</ul>
</li>
<li>虚拟机部署：在一台物理机上运行多个虚拟机，每个虚拟机都是独立的一个环境<ul>
<li>应用程序之间独立，但浪费了系统资源</li>
</ul>
</li>
<li>容器化部署：与虚拟机类似，但是共享了操作系统<ul>
<li>优点：<ul>
<li>可以保证每个容器拥有自己的文件系统、CPU、内存、进程空间等</li>
<li>运行应用程序所需要的资源都被容器包装，并和底层基础架构解耦</li>
<li>容器化的应用程序可以跨云服务商、跨Linux操作系统版本进行部署</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>容器化部署方式的问题：</strong></p>
<ul>
<li>一个容器故障停机，怎么样让另一个容器立刻启动去替补停机的容器</li>
<li>当并发访问量变大的时候，怎么做到横向扩展容器数量</li>
</ul>
<p>这些容器管理的问题统称为<strong>容器编排</strong>问题，为了解决这些容器编排问题，产生了一些容器编排的软件：</p>
<ul>
<li><strong>Swarm</strong>：Docker自己的容器编排根据</li>
<li><strong>Mesos</strong>：Apache的一个资源统一管控的工具，需要和Marathon结合使用</li>
<li><strong>Kubernetes</strong>：Google开源的容器编排工具</li>
</ul>

        <h3 id="Kubernetes简介">
          <a href="#Kubernetes简介" class="heading-link"><i class="fas fa-link"></i></a><a href="#Kubernetes简介" class="headerlink" title="Kubernetes简介"></a>Kubernetes简介</h3>
      <p>Kubernetes是一个全新的基于容器技术的分布式架构领先方案，是谷歌严格保密十几年的秘密武器——Borg系统的一个开源版本，于2014年9月发布第一个版本，2015年7月发布第一个正式版本</p>
<p>Kubernetes的本质是<strong>一组服务器集群</strong>，它可以在集群的每个节点上运行特定的程序，来对节点中的容器进行管理。它的目的是实现资源管理的自动化，主要提供了以下功能：</p>
<ul>
<li><strong>自我修复</strong>：一旦某个容器崩溃，能够在1秒左右迅速启动新的容器</li>
<li><strong>弹性伸缩</strong>：可以根据需要，自动对集群中正在运行的容器数量进行调整</li>
<li><strong>服务发现</strong>：服务可以通过自动发现的形式找到它所依赖的服务</li>
<li><strong>负载均衡</strong>：如果一个服务启动了多个容器，能够自动实现请求的负载均衡</li>
<li><strong>版本回退</strong>：如果发现新发布的程序版本有问题，可以立即回退到原来的版本</li>
<li><strong>存储编排</strong>：可以根据容器自身的需求自动创建存储卷</li>
</ul>

        <h3 id="Kubernetes组件">
          <a href="#Kubernetes组件" class="heading-link"><i class="fas fa-link"></i></a><a href="#Kubernetes组件" class="headerlink" title="Kubernetes组件"></a>Kubernetes组件</h3>
      <p>一个Kubernetes集群主要是由**控制节点(<code>master</code>)<strong>、</strong>工作节点(<code>node</code>)**构成。每个节点上都会安装不同的组件。</p>
<ul>
<li><strong>master：集群的控制平面，负责集群的决策</strong><ul>
<li><strong>ApiServer</strong>：资源操作的唯一入口，接收用户输入的命令，提供认证、授权、API注册和发现等机制</li>
<li><strong>Scheduler</strong>：负责集群资源调度，按照预订的调度策略将Pod调度到相应的node节点上</li>
<li><strong>ControllerManager</strong>：负责维护集群的状态，比如程序部署安排、故障检测、自动扩展、滚动更新等</li>
<li><strong>Etcd</strong>：负责存储集群中各种资源对象的信息</li>
</ul>
</li>
<li><strong>node：集群的数据平面，负责为容器提供运行环境</strong><ul>
<li><strong>Kubelet</strong>：负责维护容器的生命周期，即通过控制docker来创建、更新、销毁容器</li>
<li><strong>KubeProxy</strong>：负责提供集群内部的服务发现和负载均衡</li>
<li><strong>Docker</strong>：负责节点上容器的各种操作</li>
</ul>
</li>
</ul>
<p>
        <img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="images/image-20211210234316472.png" alt="image-20211210234316472">
      </p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://taoyyz.github.io/tags/%E8%BF%90%E7%BB%B4/">运维</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://taoyyz.github.io/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/">服务器</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://taoyyz.github.io/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/">构建工具</a></span></div><console class="log" 123></console><div class="post-reward reward"><div class="reward-button">看的开心的话可以请我喝杯奶茶~热狗也行呜呜呜</div><div class="reward-qrcode"><span class="reward-qrcode-alipay"><img class="reward-qrcode-alipay__img" src="/images/zfb.jpg"><div class="reward-qrcode-alipay__text">支付宝</div></span><span class="reward-qrcode-wechat"><img class="reward-qrcode-wechat__img" src="/images/vx.jpg"><div class="reward-qrcode-wechat__text">微信</div></span></div></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2021/08/10/Junit%E5%8F%8D%E5%B0%84%E6%B3%A8%E8%A7%A3/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">Junit、反射、注解</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2021/08/03/JavaWeb/"><span class="paginator-prev__text">JavaWeb</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven"><span class="toc-number">1.</span> <span class="toc-text">
          Maven</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">
          概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-number">1.2.</span> <span class="toc-text">
          作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%92%8C%E5%AE%89%E8%A3%85"><span class="toc-number">1.3.</span> <span class="toc-text">
          下载和安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BDMaven%EF%BC%9A"><span class="toc-number">1.3.1.</span> <span class="toc-text">
          下载Maven：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Maven%EF%BC%9A"><span class="toc-number">1.3.2.</span> <span class="toc-text">
          安装Maven：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven%E4%BB%93%E5%BA%93"><span class="toc-number">1.4.</span> <span class="toc-text">
          Maven仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="toc-number">1.4.1.</span> <span class="toc-text">
          分类：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Maven%E4%BE%9D%E8%B5%96%E6%90%9C%E7%B4%A2%E9%A1%BA%E5%BA%8F"><span class="toc-number">1.4.2.</span> <span class="toc-text">
          Maven依赖搜索顺序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven%E5%9D%90%E6%A0%87"><span class="toc-number">1.5.</span> <span class="toc-text">
          Maven坐标</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-1"><span class="toc-number">1.5.1.</span> <span class="toc-text">
          概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E7%BB%84%E6%88%90"><span class="toc-number">1.5.2.</span> <span class="toc-text">
          主要组成</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven%E9%A1%B9%E7%9B%AE%E6%A0%87%E5%87%86%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.</span> <span class="toc-text">
          Maven项目标准目录结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.</span> <span class="toc-text">
          Maven常用命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.8.</span> <span class="toc-text">
          Maven生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.9.</span> <span class="toc-text">
          Maven概念模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA%E9%9B%86%E6%88%90Maven"><span class="toc-number">1.10.</span> <span class="toc-text">
          IDEA集成Maven</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%AA%A8%E6%9E%B6%EF%BC%88archetype%EF%BC%89%E5%88%9B%E5%BB%BAMaven%E7%9A%84Java%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.10.1.</span> <span class="toc-text">
          使用骨架（archetype）创建Maven的Java项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E4%BD%BF%E7%94%A8%E9%AA%A8%E6%9E%B6%EF%BC%88archetype%EF%BC%89%E5%88%9B%E5%BB%BAMaven%E7%9A%84Java%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.10.2.</span> <span class="toc-text">
          不使用骨架（archetype）创建Maven的Java项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAMaven%E7%9A%84Web%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.10.3.</span> <span class="toc-text">
          创建Maven的Web项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E6%8C%87%E5%AE%9AMaven%E7%9A%84Web%E9%A1%B9%E7%9B%AE%E7%9A%84%E8%B5%84%E6%BA%90%E5%8C%85"><span class="toc-number">1.10.4.</span> <span class="toc-text">
          手动指定Maven的Web项目的资源包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8pom-xml%E4%B8%AD%E6%8C%87%E5%AE%9A%E4%BE%9D%E8%B5%96"><span class="toc-number">1.10.5.</span> <span class="toc-text">
          在pom.xml中指定依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8pom-xml%E4%B8%AD%E6%8C%87%E5%AE%9A%E6%8F%92%E4%BB%B6"><span class="toc-number">1.10.6.</span> <span class="toc-text">
          在pom.xml中指定插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-number">1.10.7.</span> <span class="toc-text">
          可能遇到的问题：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-IDEA%E6%97%A0%E6%B3%95%E5%88%9B%E5%BB%BAServlet%EF%BC%8C%E6%B2%A1%E6%9C%89Servlet%E6%8F%90%E7%A4%BA"><span class="toc-number">1.10.7.1.</span> <span class="toc-text">
          1.IDEA无法创建Servlet，没有Servlet提示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8Maven%E8%87%AA%E5%B8%A6%E7%9A%84Tomcat%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE%EF%BC%88mvn-tomcat-run%E5%91%BD%E4%BB%A4%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%EF%BC%89"><span class="toc-number">1.10.7.2.</span> <span class="toc-text">
          2.无法使用Maven自带的Tomcat启动项目（mvn tomcat:run命令无法使用）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Servlet%E4%BE%9D%E8%B5%96%E5%86%B2%E7%AA%81"><span class="toc-number">1.10.7.3.</span> <span class="toc-text">
          3.Servlet依赖冲突</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-IDEA%E6%8E%A7%E5%88%B6%E5%8F%B0%E4%B9%B1%E7%A0%81"><span class="toc-number">1.10.7.4.</span> <span class="toc-text">
          4.IDEA控制台乱码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven%E9%AB%98%E7%BA%A7"><span class="toc-number">1.11.</span> <span class="toc-text">
          Maven高级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91%E4%B8%8E%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.11.1.</span> <span class="toc-text">
          分模块开发与设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%9A%E5%90%88"><span class="toc-number">1.11.2.</span> <span class="toc-text">
          聚合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">1.11.3.</span> <span class="toc-text">
          继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-number">1.11.4.</span> <span class="toc-text">
          属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="toc-number">1.11.4.1.</span> <span class="toc-text">
          自定义属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%B1%9E%E6%80%A7%EF%BC%9A"><span class="toc-number">1.11.4.2.</span> <span class="toc-text">
          内置属性：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Setting%E5%B1%9E%E6%80%A7"><span class="toc-number">1.11.4.3.</span> <span class="toc-text">
          Setting属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Java%E7%B3%BB%E7%BB%9F%E5%B1%9E%E6%80%A7"><span class="toc-number">1.11.4.4.</span> <span class="toc-text">
          Java系统属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%B1%9E%E6%80%A7"><span class="toc-number">1.11.4.5.</span> <span class="toc-text">
          环境变量属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"><span class="toc-number">1.11.5.</span> <span class="toc-text">
          版本管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%EF%BC%9A-1"><span class="toc-number">1.11.5.1.</span> <span class="toc-text">
          分类：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E7%A8%8B%E7%89%88%E6%9C%AC%E5%8F%B7%E7%BA%A6%E5%AE%9A"><span class="toc-number">1.11.5.2.</span> <span class="toc-text">
          工程版本号约定</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE"><span class="toc-number">1.11.6.</span> <span class="toc-text">
          资源配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%8E%AF%E5%A2%83%E5%BC%80%E5%8F%91%E9%85%8D%E7%BD%AE"><span class="toc-number">1.11.7.</span> <span class="toc-text">
          多环境开发配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%B3%E8%BF%87%E6%B5%8B%E8%AF%95"><span class="toc-number">1.11.8.</span> <span class="toc-text">
          跳过测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%81%E6%9C%8D"><span class="toc-number">1.11.9.</span> <span class="toc-text">
          私服</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux"><span class="toc-number">2.</span> <span class="toc-text">
          Linux</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-2"><span class="toc-number">2.1.</span> <span class="toc-text">
          概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%88%E6%9C%AC"><span class="toc-number">2.2.</span> <span class="toc-text">
          版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E6%B5%81%E7%89%88%E6%9C%AC"><span class="toc-number">2.3.</span> <span class="toc-text">
          主流版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Linux"><span class="toc-number">2.4.</span> <span class="toc-text">
          安装Linux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%88%B0%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">2.4.1.</span> <span class="toc-text">
          安装到虚拟机</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">2.4.1.1.</span> <span class="toc-text">
          虚拟机的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">2.4.1.2.</span> <span class="toc-text">
          常用的虚拟机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VMware%E5%AE%89%E8%A3%85CentOS"><span class="toc-number">2.4.1.3.</span> <span class="toc-text">
          VMware安装CentOS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%88%B0%E7%89%A9%E7%90%86%E6%9C%BA"><span class="toc-number">2.4.2.</span> <span class="toc-text">
          安装到物理机</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">2.5.</span> <span class="toc-text">
          Linux目录结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">2.6.</span> <span class="toc-text">
          Linux常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%9B%AE%E5%BD%95"><span class="toc-number">2.6.1.</span> <span class="toc-text">
          操作目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6"><span class="toc-number">2.6.2.</span> <span class="toc-text">
          操作文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E6%88%96%E8%A7%A3%E5%8E%8B"><span class="toc-number">2.6.3.</span> <span class="toc-text">
          打包或解压</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6%E6%88%96%E5%86%85%E5%AE%B9"><span class="toc-number">2.6.4.</span> <span class="toc-text">
          查找文件或内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">2.6.5.</span> <span class="toc-text">
          其他常用命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VI%E5%92%8CVIM%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">2.7.</span> <span class="toc-text">
          VI和VIM编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#VI%E6%8F%90%E4%BE%9B%E4%BA%863%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.7.1.</span> <span class="toc-text">
          VI提供了3种模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E5%88%B0%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E5%BC%8F%EF%BC%9AESC"><span class="toc-number">2.7.2.</span> <span class="toc-text">
          切换到命令行模式：ESC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E5%88%B0%E6%8F%92%E5%85%A5%E6%A8%A1%E5%BC%8F%EF%BC%9Ai%E3%80%81o%E3%80%81a"><span class="toc-number">2.7.3.</span> <span class="toc-text">
          切换到插入模式：i、o、a</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E5%88%B0%E6%9B%BF%E6%8D%A2%E6%A8%A1%E5%BC%8F%EF%BC%9AR"><span class="toc-number">2.7.4.</span> <span class="toc-text">
          切换到替换模式：R</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E5%88%B0%E5%8F%AF%E8%A7%86%E6%A8%A1%E5%BC%8F%EF%BC%9Av%E6%88%96V"><span class="toc-number">2.7.5.</span> <span class="toc-text">
          切换到可视模式：v或V</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9CVIM%E6%96%87%E6%9C%AC"><span class="toc-number">2.7.6.</span> <span class="toc-text">
          操作VIM文本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%91%BD%E4%BB%A4"><span class="toc-number">2.7.7.</span> <span class="toc-text">
          页面命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%80%E5%87%BAVIM"><span class="toc-number">2.7.8.</span> <span class="toc-text">
          退出VIM</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%9A%84%E8%BE%93%E5%87%BA"><span class="toc-number">2.8.</span> <span class="toc-text">
          重定向控制台的输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-number">2.9.</span> <span class="toc-text">
          进程管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%EF%BC%9A"><span class="toc-number">2.10.</span> <span class="toc-text">
          管道：|</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">2.11.</span> <span class="toc-text">
          Linux权限管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%AC%A6%E5%8F%B7"><span class="toc-number">2.11.1.</span> <span class="toc-text">
          权限符号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%9D%83%E9%99%90"><span class="toc-number">2.11.2.</span> <span class="toc-text">
          修改权限</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C"><span class="toc-number">2.12.</span> <span class="toc-text">
          Linux网络操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E5%90%8D%E9%85%8D%E7%BD%AE"><span class="toc-number">2.12.1.</span> <span class="toc-text">
          主机名配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99"><span class="toc-number">2.12.2.</span> <span class="toc-text">
          关闭防火墙</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E9%85%8D%E7%BD%AE"><span class="toc-number">2.12.3.</span> <span class="toc-text">
          IP地址配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E6%98%A0%E5%B0%84"><span class="toc-number">2.12.4.</span> <span class="toc-text">
          域名映射</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-number">2.13.</span> <span class="toc-text">
          Linux的软件安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F"><span class="toc-number">2.13.1.</span> <span class="toc-text">
          常见的软件安装方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E4%B8%8E%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7"><span class="toc-number">2.13.2.</span> <span class="toc-text">
          上传与下载工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E9%85%8D%E7%BD%AEJavaWeb%E7%8E%AF%E5%A2%83"><span class="toc-number">2.14.</span> <span class="toc-text">
          Linux配置JavaWeb环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85JDK"><span class="toc-number">2.14.1.</span> <span class="toc-text">
          安装JDK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85MySQL"><span class="toc-number">2.14.2.</span> <span class="toc-text">
          安装MySQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Tomcat"><span class="toc-number">2.14.3.</span> <span class="toc-text">
          安装Tomcat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Redis"><span class="toc-number">2.14.4.</span> <span class="toc-text">
          安装Redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Nginx"><span class="toc-number">2.14.5.</span> <span class="toc-text">
          安装Nginx</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">2.14.5.1.</span> <span class="toc-text">
          安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90"><span class="toc-number">2.14.5.2.</span> <span class="toc-text">
          部署静态资源</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="toc-number">2.14.5.2.1.</span> <span class="toc-text">
          第一种方式：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%9A%E9%85%8D%E7%BD%AE%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA"><span class="toc-number">2.14.5.2.2.</span> <span class="toc-text">
          第二种方式：配置虚拟主机</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E4%B8%8E%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"><span class="toc-number">2.14.5.3.</span> <span class="toc-text">
          反向代理与负载均衡</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"><span class="toc-number">2.14.5.3.1.</span> <span class="toc-text">
          反向代理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"><span class="toc-number">2.14.5.3.2.</span> <span class="toc-text">
          负载均衡</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E9%83%A8%E7%BD%B2%E9%A1%B9%E7%9B%AE%E6%A1%88%E4%BE%8B"><span class="toc-number">2.15.</span> <span class="toc-text">
          Linux部署项目案例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Docker"><span class="toc-number">3.</span> <span class="toc-text">
          Docker</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%83%8C%E6%99%AF"><span class="toc-number">3.1.</span> <span class="toc-text">
          使用背景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-3"><span class="toc-number">3.2.</span> <span class="toc-text">
          概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker%E4%B8%8E%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">3.2.1.</span> <span class="toc-text">
          Docker与虚拟机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E5%92%8C%E5%AE%B9%E5%99%A8"><span class="toc-number">3.2.2.</span> <span class="toc-text">
          镜像和容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker%E5%92%8CDockerHub"><span class="toc-number">3.2.3.</span> <span class="toc-text">
          Docker和DockerHub</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker%E6%9E%B6%E6%9E%84"><span class="toc-number">3.2.4.</span> <span class="toc-text">
          Docker架构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="toc-number">3.3.</span> <span class="toc-text">
          快速入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Docker"><span class="toc-number">3.3.1.</span> <span class="toc-text">
          安装Docker</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8Docker"><span class="toc-number">3.3.2.</span> <span class="toc-text">
          启动Docker</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F"><span class="toc-number">3.3.3.</span> <span class="toc-text">
          配置镜像加速</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">3.4.</span> <span class="toc-text">
          Docker基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E5%90%8D%E7%A7%B0"><span class="toc-number">3.4.1.</span> <span class="toc-text">
          镜像名称</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">3.4.2.</span> <span class="toc-text">
          镜像操作命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%89%E5%8F%96pull"><span class="toc-number">3.4.2.1.</span> <span class="toc-text">
          拉取pull</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%87%BAsave%E5%92%8C%E5%8A%A0%E8%BD%BDload"><span class="toc-number">3.4.2.2.</span> <span class="toc-text">
          导出save和加载load</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">3.4.3.</span> <span class="toc-text">
          容器命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B1%EF%BC%9A%E5%88%9B%E5%BB%BA%E8%BF%90%E8%A1%8CNginx%E5%AE%B9%E5%99%A8"><span class="toc-number">3.4.3.1.</span> <span class="toc-text">
          案例1：创建运行Nginx容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B2%EF%BC%9A%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8%E4%BF%AE%E6%94%B9%E5%86%85%E5%AE%B9"><span class="toc-number">3.4.3.2.</span> <span class="toc-text">
          案例2：进入容器修改内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%B7%B2%E9%83%A8%E7%BD%B2%E7%9A%84%E5%AE%B9%E5%99%A8%E4%BF%A1%E6%81%AF"><span class="toc-number">3.4.3.3.</span> <span class="toc-text">
          查看已部署的容器信息</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="toc-number">3.5.</span> <span class="toc-text">
          数据卷</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-4"><span class="toc-number">3.5.1.</span> <span class="toc-text">
          概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">3.5.2.</span> <span class="toc-text">
          基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="toc-number">3.5.3.</span> <span class="toc-text">
          挂载数据卷</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%95%9C%E5%83%8F"><span class="toc-number">3.6.</span> <span class="toc-text">
          自定义镜像</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E7%BB%93%E6%9E%84"><span class="toc-number">3.6.1.</span> <span class="toc-text">
          镜像结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dockerfile"><span class="toc-number">3.6.2.</span> <span class="toc-text">
          Dockerfile</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DockerCompose"><span class="toc-number">3.7.</span> <span class="toc-text">
          DockerCompose</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Docker-Compose"><span class="toc-number">3.7.1.</span> <span class="toc-text">
          安装Docker Compose</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E9%83%A8%E7%BD%B2%E5%BE%AE%E6%9C%8D%E5%8A%A1%E9%9B%86%E7%BE%A4"><span class="toc-number">3.7.2.</span> <span class="toc-text">
          案例：部署微服务集群</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93"><span class="toc-number">3.8.</span> <span class="toc-text">
          Docker镜像仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93%E6%9C%8D%E5%8A%A1"><span class="toc-number">3.8.1.</span> <span class="toc-text">
          常见镜像仓库服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%AD%E5%BB%BA%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93"><span class="toc-number">3.8.2.</span> <span class="toc-text">
          搭建镜像仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8C%96%E7%89%88%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93"><span class="toc-number">3.8.2.1.</span> <span class="toc-text">
          简化版镜像仓库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A6%E6%9C%89%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2%E7%89%88%E6%9C%AC"><span class="toc-number">3.8.2.2.</span> <span class="toc-text">
          带有图形化界面版本</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Kubernetes"><span class="toc-number">4.</span> <span class="toc-text">
          Kubernetes</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">4.1.</span> <span class="toc-text">
          介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E9%83%A8%E7%BD%B2%E6%96%B9%E5%BC%8F%E7%9A%84%E6%BC%94%E5%8F%98"><span class="toc-number">4.1.1.</span> <span class="toc-text">
          应用程序部署方式的演变</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Kubernetes%E7%AE%80%E4%BB%8B"><span class="toc-number">4.1.2.</span> <span class="toc-text">
          Kubernetes简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Kubernetes%E7%BB%84%E4%BB%B6"><span class="toc-number">4.1.3.</span> <span class="toc-text">
          Kubernetes组件</span></a></li></ol></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/head.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">taoyyz</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://weibo.com/6368186555/" target="_blank" rel="noopener" data-popover="微博：taoyyz" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-weibo"></i></span></a><a class="sidebar-ov-social-item" href="https://www.zhihu.com/people/taoyyz" target="_blank" rel="noopener" data-popover="知乎：taoyyz" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">知</span></a><a class="sidebar-ov-social-item" href="https://space.bilibili.com/10111280" target="_blank" rel="noopener" data-popover="哔哩哔哩：宝贝球球ouo" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fas fa-tv"></i></span></a><a class="sidebar-ov-social-item" href="angelahape" target="_blank" rel="noopener" data-popover="微信：angelahape" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-weixin"></i></span></a><a class="sidebar-ov-social-item" href="tencent://message?uin=2655026691" target="_blank" rel="noopener" data-popover="QQ：2655026691" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-qq"></i></span></a><a class="sidebar-ov-social-item" href="https://www.youtube.com/channel/UCsz2-9ReY8ayMd-92rEGKFQ" target="_blank" rel="noopener" data-popover="Youtube：Xiaotao" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-youtube"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">18</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">7</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">13</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div></div><div id="tishi" style="text-align:center;user-select:none;font-weight:600;">本站已运行</div><span id="sitetime" style="text-align:center;display:block;user-select:none;">载入天数...<script language="javascript">const siteTime = () => {
  window.setTimeout(siteTime, 500);
  const startTime = Date.UTC(2021, 3, 10, 23, 0, 0); // 北京时间
  const currentTime = Date.now();
  const timeDifference = currentTime - startTime;

  const seconds = Math.floor((timeDifference / 1000) % 60);
  const minutes = Math.floor((timeDifference / 1000 / 60) % 60);
  const hours = Math.floor((timeDifference / (1000 * 60 * 60)) % 24);
  const days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
  const years = Math.floor(days / 365);
  const remainingDays = days % 365;

  let timeString = '';

  if (years > 0) {
    timeString += `${years}年`;
  }

  timeString += `${remainingDays}天${hours}时${minutes}分${seconds}秒`;

  document.getElementById("sitetime").innerHTML = timeString;
};

siteTime();
</script></span></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2023</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>taoyyz小陶</span></div><div></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><div class="search-mask"></div><div class="search-popup"><span class="search-close"></span><div class="search-input"><input placeholder="搜索文章（支持多关键词，请用空格分隔）"></div><div class="search-results"></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.min.js"></script><script>function initSearch() {
  var isXML = true;
  var search_path = 'search.json';

  if (!search_path) {
    search_path = 'search.xml';
  } else if (/json$/i.test(search_path)) {
    isXML = false;
  }

  var path = '/' + search_path;
  $.ajax({
    url: path,
    dataType: isXML ? 'xml' : 'json',
    async: true,
    success: function (res) {
      var datas = isXML ? $('entry', res).map(function () {
        // 将 XML 转为 JSON
        return {
          title: $('title', this).text(),
          content: $('content', this).text(),
          url: $('url', this).text()
        };
      }).get() : res;
      var $input = $('.search-input input');
      var $result = $('.search-results');
      // 搜索对象（标题、内容）的权重，影响显示顺序
      var WEIGHT = { title: 100, content: 1 };
      var searchPost = function () {
        var searchText = $input.val().toLowerCase().trim();
        // 根据空白字符分隔关键字
        var keywords = searchText.split(/[\s]+/);
        // 搜索结果
        var matchPosts = [];

        // 有多个关键字时，将原文字整个保存下来
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        // 防止未输入字符时搜索
        if (searchText.length > 0) {
          datas.forEach(function (data) {
            var isMatch  = false;
            // 没有标题的文章使用预设的 i18n 变量代替
            var title = (data.title && data.title.trim()) || '[ 文章无标题 ]';
            var titleLower = title && title.toLowerCase();
            // 删除 HTML 标签 和 所有空白字符
            var content = data.content && data.content.replace(/<[^>]+>/g, '');
            var contentLower = content && content.toLowerCase();
            // 删除重复的 /
            var postURL = data.url && decodeURI(data.url).replace(/\/{2,}/g, '/');
            // 标题中匹配到的关键词
            var titleHitSlice = [];
            // 内容中匹配到的关键词
            var contentHitSlice = [];

            keywords.forEach(function (keyword) {
              /**
              * 获取匹配的关键词的索引
              * @param {String} keyword 要匹配的关键字
              * @param {String} text 原文字
              * @param {Boolean} caseSensitive 是否区分大小写
              * @param {Number} weight 匹配对象的权重。权重大的优先显示
              * @return {Array}
              */
              function getIndexByword (word, text, caseSensitive, weight) {
                if (!word || !text) {
                  return [];
                };

                var startIndex = 0; // 每次匹配的开始索引
                var index = -1;     // 匹配到的索引值
                var result = [];    // 匹配结果

                if (!caseSensitive) {
                  word = word.toLowerCase();
                  text = text.toLowerCase();
                }

                while((index = text.indexOf(word, startIndex)) !== -1) {
                  var hasMatch = false;
                  // 索引位置相同的关键词，保留长度较长的
                  titleHitSlice.forEach(function (hit) {
                    if (hit.index === index && hit.word.length < word.length) {
                      hit.word = word;
                      hasMatch = true;
                    }
                  });
                  startIndex = index + word.length;
                  !hasMatch && result.push({ index: index, word: word, weight: weight });
                }
                return result;
              }
              titleHitSlice = titleHitSlice.concat(getIndexByword(keyword, titleLower, false, WEIGHT.title));
              contentHitSlice = contentHitSlice.concat(getIndexByword(keyword, contentLower, false, WEIGHT.content));
            });

            var hitTitle = titleHitSlice.length;
            var hitContent = contentHitSlice.length;

            if (hitTitle > 0 || hitContent > 0) {
              isMatch = true;
            }
            if (isMatch) {
              ;[titleHitSlice, contentHitSlice].forEach(function (hit) {
                // 按照匹配文字的索引的递增顺序排序
                hit.sort(function (left, right) {
                  return left.index - right.index;
                });
              });
              /**
              * 给文本中匹配到的关键词添加标记，从而进行高亮显示
              * @param {String} text 原文本
              * @param {Array} hitSlice 匹配项的索引信息
              * @param {Number} start 开始索引
              * @param {Number} end 结束索引
              * @return {String}
              */
              function highlightKeyword (text, hitSlice, start, end) {
                if (!text || !hitSlice || !hitSlice.length) {
                  return;
                }

                var result = '';
                var startIndex = start;
                var endIndex = end;
                hitSlice.forEach(function (hit) {
                  if (hit.index < startIndex) {
                    return;
                  }

                  var hitWordEnd = hit.index + hit.word.length;
                  result += text.slice(startIndex, hit.index);
                  result += '<b>' + text.slice(hit.index, hitWordEnd) + '</b>';
                  startIndex = hitWordEnd;
                });
                result += text.slice(startIndex, endIndex);
                return result;
              }

              var postData = {};
              // 文章总的搜索权重
              var postWeight = titleHitSlice.length * WEIGHT.title + contentHitSlice.length * WEIGHT.content;
              // 标记匹配关键词后的标题
              var postTitle = highlightKeyword(title, titleHitSlice, 0, title.length) || title;
              // 标记匹配关键词后的内容
              var postContent;
              // 显示内容的长度
              var SHOW_WORD_LENGTH = 200;
              // 命中关键词前的字符显示长度
              var SHOW_WORD_FRONT_LENGTH = 20;
              var SHOW_WORD_END_LENGTH = SHOW_WORD_LENGTH - SHOW_WORD_FRONT_LENGTH;

              // 截取匹配的第一个字符，前后共 200 个字符来显示
              if (contentHitSlice.length > 0) {
                var firstIndex = contentHitSlice[0].index;
                var start = firstIndex > SHOW_WORD_FRONT_LENGTH ? firstIndex - SHOW_WORD_FRONT_LENGTH : 0;
                var end = firstIndex + SHOW_WORD_END_LENGTH;
                postContent = highlightKeyword(content, contentHitSlice, start, end);
              } else { // 未匹配到内容，直接截取前 200 个字符来显示
                postContent = content.slice(0, SHOW_WORD_LENGTH);
              }
              postData.title = postTitle;
              postData.content = postContent;
              postData.url = postURL;
              postData.weight = postWeight;
              matchPosts.push(postData);
            }
          });
        }

        var resultInnerHtml = '';
        if (matchPosts.length) {
          // 按权重递增的顺序排序，使权重大的优先显示
          matchPosts.sort(function (left, right) {
            return right.weight - left.weight;
          });
          resultInnerHtml += '<ul>';
          matchPosts.forEach(function (post) {
            resultInnerHtml += '<li><a class="search-results-title" href="' + post.url + '">';
            resultInnerHtml += post.title;
            resultInnerHtml += '</a><div class="search-results-content">';
            resultInnerHtml += post.content;
            resultInnerHtml += '</div></li>';
          });
          resultInnerHtml += '</ul>';
        } else {
          resultInnerHtml += '<div class="search-results-none"><i class="far fa-meh"></i></div>';
        }
        $result.html(resultInnerHtml);
      };
      $input.on('input', searchPost);
      $input.on('keyup', function (e) {
        if (e.keyCode === Stun.utils.codeToKeyCode('Enter')) {
          searchPost();
        }
      });
    }
  });
}

function closeSearch () {
  $('body').css({ overflow: 'auto' });
  $('.search-popup').css({ display: 'none' });
  $('.search-mask').css({ display: 'none' });
}

window.addEventListener('DOMContentLoaded', function () {
  Stun.utils.pjaxReloadLocalSearch = function () {
    $('.header-nav-search').on('click', function (e) {
      e.stopPropagation();
      $('body').css('overflow', 'hidden');
      $('.search-popup')
        .velocity('stop')
        .velocity('transition.expandIn', {
          duration: 300,
          complete: function () {
            $('.search-popup input').focus();
          }
        });
      $('.search-mask')
        .velocity('stop')
        .velocity('transition.fadeIn', {
          duration: 300
        });

      initSearch();
    });
    $('.search-mask, .search-close').on('click', function () {
      closeSearch();
    });
    $(document).on('keydown', function (e) {
      // Escape <=> 27
      if (e.keyCode === Stun.utils.codeToKeyCode('Escape')) {
        closeSearch();
      }
    });
  };

  Stun.utils.pjaxReloadLocalSearch();
}, false);

function safeOpenUrl(url) {
  var newTab = window.open();
  newTab.opener = null;
  newTab.location = url;
}

function extSearch(engine) {
  var engines = {
    google: 'https://www.google.com/search?q=',
    bing: 'https://cn.bing.com/search?q=',
    baidu: 'https://www.baidu.com/s?ie=UTF-8&wd=',
  };
  var host = window.location.host;
  var query = $('.search-input input').val().toLowerCase().trim();
  var uri = engines[engine] + query + ' site:' + host;

  if (query) {
    safeOpenUrl(uri);
  } else {
    Stun.utils.popAlert('warning', '请输入字符');
  }
}

var assistSearchList = window.CONFIG.assistSearch;

if (Array.isArray(assistSearchList)) {
  assistSearchList.forEach(function (name) {
    document.querySelector('.search-btns-item--' + name).addEventListener('click', function () {
      extSearch(name);
    }, false);
  });
}</script><script src="https://cdn.jsdelivr.net/npm/pjax@latest/pjax.min.js"></script><script>window.addEventListener('DOMContentLoaded', function () {
  var pjax = new Pjax({"selectors":["head title","#main",".pjax-reload"],"history":true,"scrollTo":false,"scrollRestoration":false,"cacheBust":false,"debug":false,"currentUrlFullReload":false,"timeout":0});
  // 加载进度条的计时器
  var loadingTimer = null;

  // 重置页面 Y 方向上的滚动偏移量
  document.addEventListener('pjax:send', function () {
    $('.header-nav-menu').removeClass('show');
    if (CONFIG.pjax && CONFIG.pjax.avoidBanner) {
      $('html').velocity('scroll', {
        duration: 500,
        offset: $('#header').height(),
        easing: 'easeInOutCubic'
      });
    }

    var loadingBarWidth = 20;
    var MAX_LOADING_WIDTH = 95;

    $('.loading-bar').addClass('loading');
    $('.loading-bar__progress').css('width', loadingBarWidth + '%');
    clearInterval(loadingTimer);
    loadingTimer = setInterval(function () {
      loadingBarWidth += 3;
      if (loadingBarWidth > MAX_LOADING_WIDTH) {
        loadingBarWidth = MAX_LOADING_WIDTH;
      }
      $('.loading-bar__progress').css('width', loadingBarWidth + '%');
    }, 500);
  }, false);

  window.addEventListener('pjax:complete', function () {
    clearInterval(loadingTimer);
    $('.loading-bar__progress').css('width', '100%');
    $('.loading-bar').removeClass('loading');
    setTimeout(function () {
      $('.loading-bar__progress').css('width', '0');
    }, 400);
    $('link[rel=prefetch], script[data-pjax-rm]').each(function () {
      $(this).remove();
    });
    $('script[data-pjax], #pjax-reload script').each(function () {
      $(this).parent().append($(this).remove());
    });

    if (Stun.utils.pjaxReloadBoot) {
      Stun.utils.pjaxReloadBoot();
    }
    if (Stun.utils.pjaxReloadScroll) {
      Stun.utils.pjaxReloadScroll();
    }
    if (Stun.utils.pjaxReloadSidebar) {
      Stun.utils.pjaxReloadSidebar();
    }
    if (false) {
      if (Stun.utils.pjaxReloadHeader) {
        Stun.utils.pjaxReloadHeader();
      }
      if (Stun.utils.pjaxReloadScrollIcon) {
        Stun.utils.pjaxReloadScrollIcon();
      }
      if (Stun.utils.pjaxReloadLocalSearch) {
        Stun.utils.pjaxReloadLocalSearch();
      }
    }
  }, false);
}, false);</script><div id="pjax-reload"></div><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script><script type="application/json" src="/search.json"></script></body></html>